!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@babel/runtime/helpers/objectSpread2"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","@babel/runtime/helpers/objectSpread2","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactFlow={},e.React,e._objectSpread$1,e.ReactDOM)}(this,(function(e,t,n,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(t),a=o(n),u=o(r),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var f=Array.isArray;function d(e){var t="";if("string"==typeof e||"number"==typeof e)return e||"";if(f(e))for(var n,r=0;r<e.length;r++)""!==(n=d(e[r]))&&(t+=(t&&" ")+n);else for(var r in e)e.hasOwnProperty(r)&&e[r]&&(t+=(t&&" ")+r);return t}var p=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),h=function(){return Math.random().toString(36).substring(7).split("").join(".")},m={INIT:"@@redux/INIT"+h(),REPLACE:"@@redux/REPLACE"+h(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+h()}};function y(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function v(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(v)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],u=a,c=!1;function l(){u===a&&(u=a.slice())}function s(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return l(),u.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,l();var n=u.indexOf(e);u.splice(n,1),a=null}}}function d(e){if(!y(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=u,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:m.REPLACE})}function g(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(s())}return n(),{unsubscribe:t(n)}}})[p]=function(){return this},e}return d({type:m.INIT}),(r={dispatch:d,subscribe:f,getState:s,replaceReducer:h})[p]=g,r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return w({},n,{dispatch:r=_.apply(void 0,i)(n.dispatch)})}}}function E(){}function x(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}"production"!==process.env.NODE_ENV&&"string"==typeof E.name&&"isCrushed"!==E.name&&function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');var O=x();function P(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("production"!==process.env.NODE_ENV){var o=pe[e],i=o?"function"==typeof o?o.apply(null,n):o:"unknown error nr: "+e;throw Error("[Immer] "+i)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function M(e){return!!e&&!!e[de]}function C(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[fe]||!!e.constructor[fe]||j(e)||A(e))}function N(e,t,n){void 0===n&&(n=!1),0===k(e)?(n?Object.keys:he)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function k(e){var t=e[de];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:j(e)?2:A(e)?3:0}function D(e,t){return 2===k(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function T(e,t,n){var r=k(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function j(e){return ue&&e instanceof Map}function A(e){return ce&&e instanceof Set}function I(e){return e.o||e.t}function R(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=me(e);delete t[de];for(var n=he(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function z(e,t){return void 0===t&&(t=!1),H(e)||M(e)||!C(e)||(k(e)>1&&(e.set=e.add=e.clear=e.delete=B),Object.freeze(e),t&&N(e,(function(e,t){return z(t,!0)}),!0)),e}function B(){P(2)}function H(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function L(e){var t=ye[e];return t||P(18,e),t}function Y(){return"production"===process.env.NODE_ENV||ie||P(0),ie}function V(e,t){t&&(L("Patches"),e.u=[],e.s=[],e.v=t)}function X(e){$(e),e.p.forEach(U),e.p=null}function $(e){e===ie&&(ie=e.l)}function F(e){return ie={p:[],l:ie,h:e,m:!0,_:0}}function U(e){var t=e[de];0===t.i||1===t.i?t.j():t.g=!0}function Z(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||L("ES5").S(t,e,r),r?(n[de].P&&(X(t),P(4)),C(e)&&(e=K(t,e),t.l||W(t,e)),t.u&&L("Patches").M(n[de],e,t.u,t.s)):e=K(t,n,[]),X(t),t.u&&t.v(t.u,t.s),e!==se?e:void 0}function K(e,t,n){if(H(t))return t;var r=t[de];if(!r)return N(t,(function(o,i){return G(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return W(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=R(r.k):r.o;N(3===r.i?new Set(o):o,(function(t,i){return G(e,r,o,t,i,n)})),W(e,o,!1),n&&e.u&&L("Patches").R(r,n,e.u,e.s)}return r.o}function G(e,t,n,r,o,i){if("production"!==process.env.NODE_ENV&&o===n&&P(5),M(o)){var a=K(e,o,i&&t&&3!==t.i&&!D(t.D,r)?i.concat(r):void 0);if(T(n,r,a),!M(a))return;e.m=!1}if(C(o)&&!H(o)){if(!e.h.N&&e._<1)return;K(e,o),t&&t.A.l||W(e,o)}}function W(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&z(t,n)}function q(e,t){var n=e[de];return(n?I(n):e)[t]}function Q(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function J(e){e.P||(e.P=!0,e.l&&J(e.l))}function ee(e){e.o||(e.o=R(e.t))}function te(e,t,n){var r=j(t)?L("MapSet").T(t,n):A(t)?L("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Y(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=ve;n&&(o=[r],i=ge);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return r.k=c,r.j=u,c}(t,n):L("ES5").J(t,n);return(n?n.A:Y()).p.push(r),r}function ne(e){return M(e)||P(22,e),function e(t){if(!C(t))return t;var n,r=t[de],o=k(t);if(r){if(!r.P&&(r.i<4||!L("ES5").K(r)))return r.t;r.I=!0,n=re(t,o),r.I=!1}else n=re(t,o);return N(n,(function(t,o){r&&function(e,t){return 2===k(e)?e.get(t):e[t]}(r.t,t)===o||T(n,t,e(o))})),3===o?new Set(n):n}(e)}function re(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return R(e)}O.withExtraArgument=x;var oe,ie,ae="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ue="undefined"!=typeof Map,ce="undefined"!=typeof Set,le="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,se=ae?Symbol.for("immer-nothing"):((oe={})["immer-nothing"]=!0,oe),fe=ae?Symbol.for("immer-draftable"):"__$immer_draftable",de=ae?Symbol.for("immer-state"):"__$immer_state",pe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},he="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,me=Object.getOwnPropertyDescriptors||function(e){var t={};return he(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ye={},ve={get:function(e,t){if(t===de)return e;var n=I(e);if(!D(n,t))return function(e,t,n){var r,o=Q(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!C(r)?r:r===q(e.t,t)?(ee(e),e.o[t]=te(e.A.h,r,e)):r},has:function(e,t){return t in I(e)},ownKeys:function(e){return Reflect.ownKeys(I(e))},set:function(e,t,n){var r=Q(I(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=q(I(e),t),i=null==o?void 0:o[de];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||D(e.t,t)))return!0;ee(e),J(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==q(e.t,t)||t in e.t?(e.D[t]=!1,ee(e),J(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=I(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){P(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){P(12)}},ge={};N(ve,(function(e,t){ge[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ge.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&P(13),ve.deleteProperty.call(this,e[0],t)},ge.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&P(14),ve.set.call(this,e[0],t,n,e[0])};var be=function(){function e(e){this.O=le,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var r=t;t=e;var o=this;return function(e){var n=this;void 0===e&&(e=r);for(var i=arguments.length,a=Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];return o.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(a))}))}}var i;if("function"!=typeof t&&P(6),void 0!==n&&"function"!=typeof n&&P(7),C(e)){var a=F(this),u=te(this,e,void 0),c=!0;try{i=t(u),c=!1}finally{c?X(a):$(a)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return V(a,n),Z(e,a)}),(function(e){throw X(a),e})):(V(a,n),Z(i,a))}if(!e||"object"!=typeof e){if((i=t(e))===se)return;return void 0===i&&(i=e),this.N&&z(i,!0),i}P(21,e)},t.produceWithPatches=function(e,t){var n,r,o=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){C(e)||P(8),M(e)&&(e=ne(e));var t=F(this),n=te(this,e,void 0);return n[de].C=!0,$(t),n},t.finishDraft=function(e,t){var n=e&&e[de];"production"!==process.env.NODE_ENV&&(n&&n.C||P(9),n.I&&P(10));var r=n.A;return V(r,t),Z(void 0,r)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!le&&P(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=L("Patches").$;return M(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}(),we=new be;we.produceWithPatches.bind(we),we.setAutoFreeze.bind(we),we.setUseProxies.bind(we),we.applyPatches.bind(we),we.createDraft.bind(we),we.finishDraft.bind(we);var _e=t.createContext(),Se="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;var Ee,xe=(Ee=_e,function(e,n){var r=t.useContext(Ee),o=t.useRef(e),i=t.useRef(),a=t.useRef(!0),u=t.useRef(),c=t.useReducer((function(e){return e+1}),0)[1];if(u.current||o.current!==e||void 0===i.current)try{i.current=e(r.getState())}catch(e){if("development"===process.env.NODE_ENV){var l="Error in useStoreState: "+e.message+".";throw u.current&&(l+="\nMaybe related to:\n"+u.current.stack),new Error(l)}throw u.current||e}return Se((function(){o.current=e,u.current=void 0})),Se((function(){var e=function(){try{var e=o.current(r.getState());if("function"==typeof n?n(i.current,e):i.current===e)return;i.current=e}catch(e){u.current=e}a.current&&c({})},t=r.subscribe(e);return e(),function(){a.current=!1,t()}}),[]),i.current});var Oe=function(e){return function(n){return n(t.useContext(e).getActions())}}(_e);var Pe=function(e){return function(){return t.useContext(e).dispatch}}(_e);function Me(){return t.useContext(_e)}var Ce=function(e){return function(){var n=t.useContext(e),r=t.useState(!1),o=r[0],i=r[1];return t.useEffect((function(){n.persist.resolveRehydration().then((function(){return i(!0)}))}),[]),o}}(_e);var Ne,ke=function(e){var t;return(t={}).$_a=!0,t.fn=e,t},De=[function(e){return e}],Te=function(e,t){var n,r;return"function"==typeof t?((r={}).$_c=!0,r.fn=t,r.stateResolvers=e,r):((n={}).$_c=!0,n.fn=e,n.stateResolvers=De,n)};function je(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ae(e){return function e(t){var n=Object.keys(t).reduce((function(e,n){return null==Object.getOwnPropertyDescriptor(t,n).get&&(e[n]=t[n]),e}),{});return Object.keys(n).forEach((function(t){je(n[t])&&(n[t]=e(n[t]))})),n}(e)}function Ie(e){return null!=e&&"object"==typeof e&&"function"==typeof e.then}function Re(e,t){return e.reduce((function(e,t){return je(e)?e[t]:void 0}),t)}function ze(e,t,n){if(0===e.length)return n;var r=a.default({},t),o=e[0];return 1===e.length?r[o]=n:r[o]=ze(e.slice(1),r[o],n),r}function Be(e,t,n){0!==e.length?e.reduce((function(t,r,o){return o+1===e.length?t[r]=n:t[r]=t[r]||{},t[r]}),t):"object"==typeof n&&(Object.keys(t).forEach((function(e){delete t[e]})),Object.keys(n).forEach((function(e){t[e]=n[e]})))}function He(e){return void 0===e&&(e=!1),function(t,n,r){if(e){var o=Re(t,n),i=r(o);return o!==i?ze(t,n,i):n}if(Ne||(Ne=new be({useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:!1})),0===t.length){var a=Ne.createDraft(n),u=r(a);return u?M(u)?Ne.finishDraft(u):u:Ne.finishDraft(a)}var c=t.slice(0,t.length-1),l=Ne.createDraft(n),s=Re(c,n),f=r(Re(t,l));return f&&(s[t[t.length-1]]=f),Ne.finishDraft(l)}}var Le=function(e){var t,n,r,o=[];return(t=e,n=function(e,t){return t().then((function(e){o.push(e)}))},new Promise((function(e,o){var i=t[Symbol.iterator](),a=0;!function t(r){var u=i.next();u.done?e(r):Promise.all([r,u.value]).then((function(e){return t(n(e[0],e[1],a++))})).catch((function(e){return o(e)}))}(r)}))).then((function(){return o}))};function Ye(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}function Ve(e,t,n,r){var o=He(e),i=function(e,n){var r=t[n.type];return r?function(e,t,n,r){return o(r,e,(function(e){return n(e,t.payload)}))}(e,n,r,r.def.meta.parent):e},a=function(e,t){return n.reduce((function(e,n){var r=n.parentPath,i=n.key,a=n.reducer;return o(r,e,(function(e){return e[i]=a(M(e[i])?function(e){return M(e)||P(23,e),e[de].t}(e[i]):e[i],t),e}))}),e)};return function(e,t){var o=i(e,t),u=n.length>0?a(o,t):o;return e!==u&&r.forEach((function(e){var t=e.parentPath,n=e.bindComputedProperty,r=Re(t,u);null!=r&&n(r,u)})),u}}var Xe={getItem:function(){},setItem:function(){},removeItem:function(){}},$e=function(e){var t;return function(){if(!t){try{"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e])}catch(e){}t||(t=Xe)}return t}},Fe=$e("localStorage"),Ue=$e("sessionStorage");function Ze(e,t){void 0===t&&(t=[]),null==e&&(e=Ue()),"string"==typeof e&&("localStorage"===e?e=Fe():"sessionStorage"===e?e=Ue():("development"===process.env.NODE_ENV&&console.warn("Invalid storage provider"),e=Xe));var n=[].concat(t).reverse(),r=function(t){var r=e===Fe()||e===Ue()?JSON.parse(t).data:t;return n.length>0&&null!=r&&"object"==typeof r&&Object.keys(r).forEach((function(e){r[e]=n.reduce((function(t,n){return n.out(t,e)}),r[e])})),r},o=Ie(e.getItem("_"));return{getItem:function(t){if(o)return e.getItem(t).then((function(e){return null!=e?r(e):void 0}));var n=e.getItem(t);return null!=n?r(n):void 0},setItem:function(n,r){return e.setItem(n,function(n){return t.length>0&&null!=n&&"object"==typeof n&&Object.keys(n).forEach((function(e){n[e]=t.reduce((function(t,n){return n.in(t,e)}),n[e])})),e===Fe()||e===Ue()?JSON.stringify({data:n}):n}(r))},removeItem:function(t){return e.removeItem(t)}}}function Ke(e,t){return function(){return 0===t._i._persistenceConfig.length?Promise.resolve():Le(t._i._persistenceConfig.map((function(t){var n=t.path,r=t.config;return function(){return Promise.resolve(r.storage.removeItem(e(n)))}})))}}function Ge(e,t){var n,r=Promise.resolve(),o=!1,i="undefined"==typeof window?function(e){return e()}:null!=window.requestIdleCallback?window.requestIdleCallback:window.requestAnimationFrame;return{persist:function(a){if(0!==t._i._persistenceConfig.length){var u=function(){o=!0,r=new Promise((function(r){i((function(){Le(t._i._persistenceConfig.map((function(t){var n=t.path,r=t.config;return function(){var t=r.storage,o=r.allow,i=r.deny,u=function(e,t,n){var r=Object.keys(e);return t.length>0&&(r=r.reduce((function(e,n){return-1!==t.findIndex((function(e){return e===n}))?[].concat(e,[n]):e}),[])),n.length>0&&(r=r.reduce((function(e,t){return-1!==n.findIndex((function(e){return e===t}))?e:[].concat(e,[t])}),[])),r}(Ae(Re(n,a)),o,i),c={};return u.map((function(e){var t=Re([].concat(n,[e]),a),r=je(t)?Ae(t):t;c[e]=r})),Promise.resolve(t.setItem(e(n),c))}}))).finally((function(){if(o=!1,n){var e=n;n=null,e()}else r()}))}))}))};o?n=u:u()}},clear:Ke(e,t),flush:function(){return n&&n(),r}}}function We(e,t,n,r){if(0===n._i._persistenceConfig.length)return Promise.resolve();var o=Ae(n._i._dS),i=!1;return Le(n._i._persistenceConfig.map((function(t){return function(){var n=t.path,a=t.config,u=a.mergeStrategy,c=a.storage;if(r&&(n.length<1||n[0]!==r))return Promise.resolve();var l=function(e,t){return null!=e&&null!=t&&(typeof e!=typeof t||Array.isArray(e)&&!Array.isArray(t))},s=function(e){null!=e&&(!function(e){if("overwrite"===u)Be(n,o,e);else if("mergeShallow"===u){var t=Re(n,o);Object.keys(e).forEach((function(n){l(t[n],e[n])||(t[n]=e[n])}))}else"mergeDeep"===u&&function e(t,n){Object.keys(n).forEach((function(r){l(t[r],n[r])||(je(n[r])?(t[r]=t[r]||{},e(t[r],n[r])):t[r]=n[r])}))}(Re(n,o),e)}(e),i=!0)},f=c.getItem(e(n));return Ie(f)?f.then(s):Promise.resolve(s(f))}}))).then((function(){i&&t(o)}))}var qe=function(e,t){console.log("Error in "+e),console.log(t)},Qe=function(e,t){return function(){try{var n=t.apply(void 0,arguments);Ie(n)&&n.catch((function(t){qe(e,t)}))}catch(t){qe(e,t)}}};function Je(e){return function(){return function(t){return function(n){var r=t(n);if(n&&e._i._lAM[n.type]&&e._i._lAM[n.type].length>0){var o=e._i._aCD[n.type];e._i._lAM[n.type].forEach((function(e){e({type:o?o.def.meta.type:n.type,payload:n.payload,error:n.error,result:n.result})}))}return r}}}}function et(e,t,n,r){var o,i,a,u,c=(o=n.fn,a=[],u=!1,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u&&Ye(t,a)||(i=o.apply(void 0,t),u=!0,a=t),i});return function(o,i){Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){if(!r._i._cS.isInReducer){var t=Re(e,i),o=n.stateResolvers.map((function(e){return e(t,i)}));return c.apply(void 0,o)}}})}}function tt(e){return function(){return function(t){return function(n){e._i._cS.isInReducer=!0;var r=t(n);return e._i._cS.isInReducer=!1,r}}}}function nt(e){return function(t){return function(n){return function(r){if(0===e._i._e.length)return n(r);var o=t.getState(),i=n(r),a=t.getState();return e._i._e.forEach((function(e){var t=Re(e.meta.parent,o),n=Re(e.meta.parent,a);if(t!==n){var i=e.dependencyResolvers.map((function(e){return e(t)})),u=e.dependencyResolvers.map((function(e){return e(n)}));i.some((function(e,t){return e!==u[t]}))&&e.actionCreator(i,u,r)}})),i}}}}var rt=function(e){console.log(e)};var ot=function(e,t){console.log("Error in "+e),console.log(t)},it=function(e,t){return function(){try{var n=t.apply(void 0,arguments);Ie(n)&&n.catch((function(t){ot(e,t)}))}catch(t){ot(e,t)}}};function at(e,t,n,r){var o=t,i={},u={},c={},l={},s=[],f=[],d=[],p={},h={},m=[],y=[];return y=y.sort((function(e,t){var n=e.path.join("."),r=t.path.join(".");return n<r?-1:n>r?1:0})),function e(h,v){return Object.keys(h).forEach((function(g){var b=h[g],w=[].concat(v,[g]),_={parent:v,path:w,key:g},S=function(){var e=Re(v,t);Be(w,o,e&&g in e?e[g]:b)};if("$_p"!==g)if(null!=b&&"object"==typeof b)if(b.$_a||b.$_aO){var E=a.default({},b),x=E.$_a?"@action":"@actionOn";E.meta={actionName:_.key,category:x,type:x+"."+_.path.join("."),parent:_.parent,path:_.path},E.actionCreator=function(e,t){function n(n){var r={type:e.meta.type,payload:n};return e.$_aO&&e.meta.resolvedTargets&&(n.resolvedTargets=[].concat(e.meta.resolvedTargets)),t.dispatch(r)}return n.type=e.meta.type,n}(E,r),E.actionCreator.def=E,E.fn.def=E,i[E.meta.type]=E.actionCreator,c[E.meta.type]=E.fn,"ePRS"!==_.key&&(E.$_aO?(m.push(E),Be(w,p,E.actionCreator)):Be(w,u,E.actionCreator))}else if(b.$_t||b.$_tO){var O=a.default({},b),P=(O.$_t?"@thunk":"@thunkOn")+"."+_.path.join(".");O.meta={actionName:_.key,parent:_.parent,path:_.path,type:P,startType:P+"(start)",successType:P+"(success)",failType:P+"(fail)"},O.thunkHandler=function(e,t,n,r){return function(o,i){var a={dispatch:t.dispatch,fail:i,getState:function(){return Re(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};return e.$_tO&&e.meta.resolvedTargets&&(o.resolvedTargets=[].concat(e.meta.resolvedTargets)),e.fn(Re(e.meta.parent,r),o,a)}}(O,r,n,u),Be(w,l,O.thunkHandler),O.actionCreator=function(e,t){var n=function(n){var r=Qe(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,payload:n})})),o=Qe(e.meta.failType,(function(r){return t.dispatch({type:e.meta.failType,payload:n,error:r})})),i=Qe(e.meta.successType,(function(r){return t.dispatch({type:e.meta.successType,payload:n,result:r})}));r();var a=null,u=function(e){a=e},c=t.dispatch((function(){return e.thunkHandler(n,u)}));return Ie(c)?c.then((function(e){return a?o(a):i(e),e})):(a?o(a):i(c),c)};return n.type=e.meta.type,n.successType=e.meta.successType,n.failType=e.meta.failType,n.startType=e.meta.startType,n}(O,r),O.actionCreator.def=O,i[O.meta.type]=O.actionCreator,O.$_tO?(m.push(O),Be(w,p,O.actionCreator)):Be(w,u,O.actionCreator)}else if(b.$_c){var M=Re(v,o),C=et(v,g,b,r);C(M,o),s.push({key:g,parentPath:v,bindComputedProperty:C})}else if(b.$_r)f.push({key:g,parentPath:v,reducer:b.fn});else if(b.$_e){var N=a.default({},b),k="@effectOn."+_.path.join(".");N.meta={type:k,actionName:_.key,parent:_.parent,path:_.path,startType:k+"(start)",successType:k+"(success)",failType:k+"(fail)"};var D=function(e,t,n,r){var o,i=Re(e.meta.parent,r);return function(a){var u={dispatch:t.dispatch,getState:function(){return Re(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};if(void 0!==o){var c=o();o=void 0,Ie(c)&&c.catch(rt)}var l=e.fn(i,a,u);if(Ie(l))return l.then((function(e){"function"==typeof e&&"production"!==process.env.NODE_ENV&&console.warn("[easy-peasy] Effect is asynchronously resolving a dispose fn.")}));"function"==typeof l&&(o=l)}}(N,r,n,u),T=function(e,t,n){var r=function(r,o,i){var a={prev:r,current:o,action:i},u=it(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,change:a})})),c=it(e.meta.successType,(function(){return t.dispatch({type:e.meta.successType,change:a})}));u();try{var l=t.dispatch((function(){return n(a)}));return Ie(l)?l.then((function(e){return c(e),e}),rt):(c(l),l)}catch(e){rt(e)}};return r.type=e.meta.type,r.startType=e.meta.startType,r.successType=e.meta.successType,r.failType=e.meta.failType,r}(N,r,D);N.actionCreator=T,d.push(N)}else if(je(b)){null==Re(w,o)&&Be(w,o,{}),e(b,w)}else S();else S();else y.push(function(e,t){return void 0===t&&(t={}),{path:e,config:{allow:t.allow||[],deny:t.deny||[],mergeStrategy:t.mergeStrategy||"mergeDeep",storage:Ze(t.storage,t.transformers)}}}(v,b))}))}(e,[]),function(e,t,n,r){e.forEach((function(e){var o=e.targetResolver(Re(e.meta.parent,t),t),i=(Array.isArray(o)?o:[o]).reduce((function(e,t){return"function"==typeof t&&t.def.meta.type&&n[t.def.meta.type]?t.def.meta.successType?e.push(t.def.meta.successType):e.push(t.def.meta.type):"string"==typeof t&&e.push(t),e}),[]);e.meta.resolvedTargets=i,i.forEach((function(t){var o=r[t]||[];o.push(n[e.meta.type]),r[t]=o}))}))}(m,u,i,h),{_aCD:i,_aC:u,_aRD:c,_cP:s,_cR:f,_cS:{isInReducer:!1},_dS:o,_e:d,_lAC:p,_lAM:h,_persistenceConfig:y}}function ut(e,t){void 0===t&&(t={});var n=Ae(e),r=t,o=r.compose,i=r.devTools,u=void 0===i?"production"!==process.env.NODE_ENV:i,c=r.disableImmer,l=void 0!==c&&c,s=r.enhancers,f=void 0===s?[]:s,d=r.initialState,p=void 0===d?{}:d,h=r.injections,m=void 0===h?{}:h,y=r.middleware,g=void 0===y?[]:y,b=r.mockActions,w=void 0!==b&&b,E=r.name,x=void 0===E?"EasyPeasyStore":E,P=r.version,M=void 0===P?0:P,C=r.reducerEnhancer,N=void 0===C?function(e){return e}:C,k=function(e){return a.default(a.default({},e),{},{ePRS:ke((function(e,t){return t}))})},D={},T=k(n),j=[],A=function(e){return"["+x+"]["+M+"]"+(e.length>0?"["+e.join(".")+"]":"")},I=Ge(A,D),R=function(e,t){return function(n){var r=n.getState;return function(n){return function(o){var i=n(o);return o&&"@action.ePRS"!==o.type&&t._i._persistenceConfig.length>0&&e.persist(r()),i}}}}(I,D),z=function(e){return D._i._aCD["@action.ePRS"](e)},B=function(e){void 0===e&&(e={});var t=at(T,e,m,D);D._i=a.default(a.default({},t),{},{reducer:N(Ve(l,t._aRD,t._cR,t._cP))})},H=o||(u&&"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:x}):_);B(p);var L=[tt(D)].concat(g,[O,Je(D),nt(D),R]);w&&L.push((function(){return function(){return function(e){null!=e&&j.push(e)}}}));var Y=v(D._i.reducer,D._i._dS,H.apply(void 0,[S.apply(void 0,L)].concat(f)));Y.subscribe((function(){D._i._cS.isInReducer=!1})),D.dispatch=Y.dispatch,D.getState=Y.getState;var V=function(){Object.keys(Y.dispatch).forEach((function(e){delete Y.dispatch[e]})),Object.keys(D._i._aC).forEach((function(e){Y.dispatch[e]=D._i._aC[e]}))};V();var X=function(e){var t=Y.getState();e&&delete t[e],B(t),Y.replaceReducer(D._i.reducer),z(D._i._dS),V()},$=We(A,z,D);return Object.assign(Y,{addModel:function(e,t){T[e]&&"production"!==process.env.NODE_ENV&&Y.removeModel(e),T[e]=t,X();var n=We(A,z,D,e);return{resolveRehydration:function(){return n}}},clearMockedActions:function(){j=[]},getActions:function(){return D._i._aC},getListeners:function(){return D._i._lAC},getMockedActions:function(){return[].concat(j)},persist:{clear:I.clear,flush:I.flush,resolveRehydration:function(){return $}},reconfigure:function(e){T=k(e),X()},removeModel:function(e){T[e]&&(delete T[e],X(e))}})}function ct(e){var t=e.children,n=e.store;return i.default.createElement(_e.Provider,{value:n},t)}var lt={useStoreActions:Oe,useStoreDispatch:Pe,useStoreState:xe,useStoreRehydrated:Ce,useStore:Me},st=lt.useStoreActions,ft=lt.useStoreDispatch,dt=lt.useStoreState,pt=lt.useStore,ht=function(e){var t=null==e?void 0:e.target;return["INPUT","SELECT","TEXTAREA","BUTTON"].includes(null==t?void 0:t.nodeName)||(null==t?void 0:t.hasAttribute("contenteditable"))},mt=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},yt=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),Math.min(Math.max(e,t),n)},vt=function(e,t){return{x:yt(e.x,t[0][0],t[1][0]),y:yt(e.y,t[0][1],t[1][1])}},gt=function(e){var n=t.useState(!1),r=n[0],o=n[1];return t.useEffect((function(){if(void 0!==e){var t=function(t){ht(t)||t.key!==e&&t.keyCode!==e||(t.preventDefault(),o(!0))},n=function(t){ht(t)||t.key!==e&&t.keyCode!==e||o(!1)},r=function(){return o(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),window.addEventListener("blur",r),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n),window.removeEventListener("blur",r)}}}),[e,o]),r},bt=function(e){return"id"in e&&"source"in e&&"target"in e},wt=function(e){return"id"in e&&!("source"in e)&&!("target"in e)},_t=function(e){return"reactflow__edge-"+e.source+e.sourceHandle+"-"+e.target+e.targetHandle},St=function(e){return function(t){var n=e.getState();return function(e,t,n,r){var o=e.x,i=e.y,a=t[0],u=t[1],c=t[2],l=r[0],s=r[1],f={x:(o-a)/c,y:(i-u)/c};return n?{x:l*Math.round(f.x/l),y:s*Math.round(f.y/s)}:f}(t,n.transform,n.snapToGrid,n.snapGrid)}},Et=function(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}},xt=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},Ot=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},Pt=function(e){var t=e.reduce((function(e,t){var n=t.__rf,r=void 0===n?{}:n,o=r.position,i=r.width,a=r.height;return Et(e,xt(c(c({},o),{width:i,height:a})))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ot(t)},Mt=function(e,t,n,r){var o=void 0===n?[0,0,1]:n,i=o[0],a=o[1],u=o[2];void 0===r&&(r=!1);var l=xt({x:(t.x-i)/u,y:(t.y-a)/u,width:t.width/u,height:t.height/u});return e.filter((function(e){var t=e.__rf,n=t.position,o=t.width,i=t.height,a=t.isDragging,u=xt(c(c({},n),{width:o,height:i})),s=Math.max(0,Math.min(l.x2,u.x2)-Math.max(l.x,u.x)),f=Math.max(0,Math.min(l.y2,u.y2)-Math.max(l.y,u.y)),d=Math.ceil(s*f);return!(null!==o&&null!==i&&!a)||(r?d>0:d>=o*i)}))},Ct=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.source)||n.includes(e.target)}))},Nt=function(e,t){return s(e.map((function(e){var t=c({},e);return t.position=t.__rf.position,delete t.__rf,t})),t.map((function(e){return c({},e)})))},kt=function(e){return function(){var t=e.getState(),n=t.nodes,r=void 0===n?[]:n,o=t.edges;return Nt(r,void 0===o?[]:o)}},Dt=function(e){return function(){var t=e.getState(),n=t.nodes,r=void 0===n?[]:n,o=t.edges,i=void 0===o?[]:o,a=t.transform;return{elements:Nt(r,i),position:[a[0],a[1]],zoom:a[2]}}},Tt={value:()=>{}};function jt(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new At(r)}function At(e){this._=e}function It(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Rt(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function zt(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Tt,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}At.prototype=jt.prototype={constructor:At,on:function(e,t){var n,r=this._,o=It(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=zt(r[n],e.name,t);else if(null==t)for(n in r)r[n]=zt(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=Rt(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new At(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var Bt="http://www.w3.org/1999/xhtml",Ht={svg:"http://www.w3.org/2000/svg",xhtml:Bt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lt(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ht.hasOwnProperty(t)?{space:Ht[t],local:e}:e}function Yt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bt&&t.documentElement.namespaceURI===Bt?t.createElement(e):t.createElementNS(n,e)}}function Vt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xt(e){var t=Lt(e);return(t.local?Vt:Yt)(t)}function $t(){}function Ft(e){return null==e?$t:function(){return this.querySelector(e)}}function Ut(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Zt(){return[]}function Kt(e){return null==e?Zt:function(){return this.querySelectorAll(e)}}function Gt(e){return function(){return this.matches(e)}}function Wt(e){return function(t){return t.matches(e)}}var qt=Array.prototype.find;function Qt(){return this.firstElementChild}var Jt=Array.prototype.filter;function en(){return this.children}function tn(e){return new Array(e.length)}function nn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function rn(e){return function(){return e}}function on(e,t,n,r,o,i){for(var a,u=0,c=t.length,l=i.length;u<l;++u)(a=t[u])?(a.__data__=i[u],r[u]=a):n[u]=new nn(e,i[u]);for(;u<c;++u)(a=t[u])&&(o[u]=a)}function an(e,t,n,r,o,i,a){var u,c,l,s=new Map,f=t.length,d=i.length,p=new Array(f);for(u=0;u<f;++u)(c=t[u])&&(p[u]=l=a.call(c,c.__data__,u,t)+"",s.has(l)?o[u]=c:s.set(l,c));for(u=0;u<d;++u)l=a.call(e,i[u],u,i)+"",(c=s.get(l))?(r[u]=c,c.__data__=i[u],s.delete(l)):n[u]=new nn(e,i[u]);for(u=0;u<f;++u)(c=t[u])&&s.get(p[u])===c&&(o[u]=c)}function un(e){return e.__data__}function cn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ln(e){return function(){this.removeAttribute(e)}}function sn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fn(e,t){return function(){this.setAttribute(e,t)}}function dn(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function hn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yn(e){return function(){this.style.removeProperty(e)}}function vn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function gn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bn(e,t){return e.style.getPropertyValue(t)||mn(e).getComputedStyle(e,null).getPropertyValue(t)}function wn(e){return function(){delete this[e]}}function _n(e,t){return function(){this[e]=t}}function Sn(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function En(e){return e.trim().split(/^|\s+/)}function xn(e){return e.classList||new On(e)}function On(e){this._node=e,this._names=En(e.getAttribute("class")||"")}function Pn(e,t){for(var n=xn(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Mn(e,t){for(var n=xn(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Cn(e){return function(){Pn(this,e)}}function Nn(e){return function(){Mn(this,e)}}function kn(e,t){return function(){(t.apply(this,arguments)?Pn:Mn)(this,e)}}function Dn(){this.textContent=""}function Tn(e){return function(){this.textContent=e}}function jn(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function An(){this.innerHTML=""}function In(e){return function(){this.innerHTML=e}}function Rn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function zn(){this.nextSibling&&this.parentNode.appendChild(this)}function Bn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hn(){return null}function Ln(){var e=this.parentNode;e&&e.removeChild(this)}function Yn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Vn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xn(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function $n(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Fn(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,u=o.length;a<u;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Un(e,t,n){var r=mn(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Zn(e,t){return function(){return Un(this,e,t)}}function Kn(e,t){return function(){return Un(this,e,t.apply(this,arguments))}}nn.prototype={constructor:nn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},On.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Gn=[null];function Wn(e,t){this._groups=e,this._parents=t}function qn(){return new Wn([[document.documentElement]],Gn)}function Qn(e){return"string"==typeof e?new Wn([[document.querySelector(e)]],[document.documentElement]):new Wn([[e]],Gn)}function Jn(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}function er(e){e.preventDefault(),e.stopImmediatePropagation()}function tr(e){var t=e.document.documentElement,n=Qn(e).on("dragstart.drag",er,!0);"onselectstart"in t?n.on("selectstart.drag",er,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function nr(e,t){var n=e.document.documentElement,r=Qn(e).on("dragstart.drag",null);t&&(r.on("click.drag",er,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function rr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function or(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ir(){}Wn.prototype=qn.prototype={constructor:Wn,select:function(e){"function"!=typeof e&&(e=Ft(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,u=t[o],c=u.length,l=r[o]=new Array(c),s=0;s<c;++s)(i=u[s])&&(a=e.call(i,i.__data__,s,u))&&("__data__"in i&&(a.__data__=i.__data__),l[s]=a);return new Wn(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:Ut(t)}}(e):Kt(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,u=t[i],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(e.call(a,a.__data__,l,u)),o.push(a));return new Wn(r,o)},selectChild:function(e){return this.select(null==e?Qt:function(e){return function(){return qt.call(this.children,e)}}("function"==typeof e?e:Wt(e)))},selectChildren:function(e){return this.selectAll(null==e?en:function(e){return function(){return Jt.call(this.children,e)}}("function"==typeof e?e:Wt(e)))},filter:function(e){"function"!=typeof e&&(e=Gt(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new Wn(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,un);var n=t?an:on,r=this._parents,o=this._groups;"function"!=typeof e&&(e=rn(e));for(var i=o.length,a=new Array(i),u=new Array(i),c=new Array(i),l=0;l<i;++l){var s=r[l],f=o[l],d=f.length,p=Ut(e.call(s,s&&s.__data__,l,r)),h=p.length,m=u[l]=new Array(h),y=a[l]=new Array(h),v=c[l]=new Array(d);n(s,f,m,y,v,p,t);for(var g,b,w=0,_=0;w<h;++w)if(g=m[w]){for(w>=_&&(_=w+1);!(b=y[_])&&++_<h;);g._next=b||null}}return(a=new Wn(a,r))._enter=u,a._exit=c,a},enter:function(){return new Wn(this._enter||this._groups.map(tn),this._parents)},exit:function(){return new Wn(this._exit||this._groups.map(tn),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){if(!(e instanceof Wn))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,l=t[u],s=n[u],f=l.length,d=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(d[p]=c);for(;u<r;++u)a[u]=t[u];return new Wn(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=cn);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,u=n[i],c=u.length,l=o[i]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(t)}return new Wn(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,u=i.length;a<u;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=Lt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?sn:ln:"function"==typeof t?n.local?hn:pn:n.local?dn:fn)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?yn:"function"==typeof t?gn:vn)(e,t,null==n?"":n)):bn(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?wn:"function"==typeof t?Sn:_n)(e,t)):this.node()[e]},classed:function(e,t){var n=En(e+"");if(arguments.length<2){for(var r=xn(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?kn:t?Cn:Nn)(n,t))},text:function(e){return arguments.length?this.each(null==e?Dn:("function"==typeof e?jn:Tn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?An:("function"==typeof e?Rn:In)(e)):this.node().innerHTML},raise:function(){return this.each(zn)},lower:function(){return this.each(Bn)},append:function(e){var t="function"==typeof e?e:Xt(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Xt(e),r=null==t?Hn:"function"==typeof t?t:Ft(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ln)},clone:function(e){return this.select(e?Vn:Yn)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=Xn(e+""),a=i.length;if(!(arguments.length<2)){for(u=t?Fn:$n,r=0;r<a;++r)this.each(u(i[r],t,n));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?Kn:Zn)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var ar=.7,ur=1/ar,cr="\\s*([+-]?\\d+)\\s*",lr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fr=/^#([0-9a-f]{3,8})$/,dr=new RegExp("^rgb\\("+[cr,cr,cr]+"\\)$"),pr=new RegExp("^rgb\\("+[sr,sr,sr]+"\\)$"),hr=new RegExp("^rgba\\("+[cr,cr,cr,lr]+"\\)$"),mr=new RegExp("^rgba\\("+[sr,sr,sr,lr]+"\\)$"),yr=new RegExp("^hsl\\("+[lr,sr,sr]+"\\)$"),vr=new RegExp("^hsla\\("+[lr,sr,sr,lr]+"\\)$"),gr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function br(){return this.rgb().formatHex()}function wr(){return this.rgb().formatRgb()}function _r(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Sr(t):3===n?new Pr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Er(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Er(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=dr.exec(e))?new Pr(t[1],t[2],t[3],1):(t=pr.exec(e))?new Pr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=hr.exec(e))?Er(t[1],t[2],t[3],t[4]):(t=mr.exec(e))?Er(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=yr.exec(e))?kr(t[1],t[2]/100,t[3]/100,1):(t=vr.exec(e))?kr(t[1],t[2]/100,t[3]/100,t[4]):gr.hasOwnProperty(e)?Sr(gr[e]):"transparent"===e?new Pr(NaN,NaN,NaN,0):null}function Sr(e){return new Pr(e>>16&255,e>>8&255,255&e,1)}function Er(e,t,n,r){return r<=0&&(e=t=n=NaN),new Pr(e,t,n,r)}function xr(e){return e instanceof ir||(e=_r(e)),e?new Pr((e=e.rgb()).r,e.g,e.b,e.opacity):new Pr}function Or(e,t,n,r){return 1===arguments.length?xr(e):new Pr(e,t,n,null==r?1:r)}function Pr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Mr(){return"#"+Nr(this.r)+Nr(this.g)+Nr(this.b)}function Cr(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Nr(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function kr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tr(e,t,n,r)}function Dr(e){if(e instanceof Tr)return new Tr(e.h,e.s,e.l,e.opacity);if(e instanceof ir||(e=_r(e)),!e)return new Tr;if(e instanceof Tr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=t===i?(n-r)/u+6*(n<r):n===i?(r-t)/u+2:(t-n)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=c>0&&c<1?0:a,new Tr(a,u,c,e.opacity)}function Tr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function jr(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}rr(ir,_r,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:br,formatHex:br,formatHsl:function(){return Dr(this).formatHsl()},formatRgb:wr,toString:wr}),rr(Pr,Or,or(ir,{brighter:function(e){return e=null==e?ur:Math.pow(ur,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ar:Math.pow(ar,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mr,formatHex:Mr,formatRgb:Cr,toString:Cr})),rr(Tr,(function(e,t,n,r){return 1===arguments.length?Dr(e):new Tr(e,t,n,null==r?1:r)}),or(ir,{brighter:function(e){return e=null==e?ur:Math.pow(ur,e),new Tr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ar:Math.pow(ar,e),new Tr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Pr(jr(e>=240?e-240:e+120,o,r),jr(e,o,r),jr(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Ar=e=>()=>e;function Ir(e){return 1==(e=+e)?Rr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ar(isNaN(t)?n:t)}}function Rr(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Ar(isNaN(e)?t:e)}var zr=function e(t){var n=Ir(t);function r(e,t){var r=n((e=Or(e)).r,(t=Or(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Rr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Br(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Hr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lr=new RegExp(Hr.source,"g");function Yr(e,t){var n,r,o,i=Hr.lastIndex=Lr.lastIndex=0,a=-1,u=[],c=[];for(e+="",t+="";(n=Hr.exec(e))&&(r=Lr.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Br(n,r)})),i=Lr.lastIndex;return i<t.length&&(o=t.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})}var Vr,Xr=180/Math.PI,$r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fr(e,t,n,r,o,i){var a,u,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Xr,skewX:Math.atan(c)*Xr,scaleX:a,scaleY:u}}function Ur(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var u=[],c=[];return i=e(i),a=e(a),function(e,r,o,i,a,u){if(e!==o||r!==i){var c=a.push("translate(",null,t,null,n);u.push({i:c-4,x:Br(e,o)},{i:c-2,x:Br(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,u,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Br(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,u,c),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Br(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,u,c),function(e,t,n,r,i,a){if(e!==n||t!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:Br(e,n)},{i:u-2,x:Br(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,c),i=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)u[(t=c[n]).i]=t.x(e);return u.join("")}}}var Zr=Ur((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$r:Fr(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Kr=Ur((function(e){return null==e?$r:(Vr||(Vr=document.createElementNS("http://www.w3.org/2000/svg","g")),Vr.setAttribute("transform",e),(e=Vr.transform.baseVal.consolidate())?Fr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):$r)}),", ",")",")");function Gr(e){return((e=Math.exp(e))+1/e)/2}var Wr,qr,Qr=function e(t,n,r){function o(e,o){var i,a,u=e[0],c=e[1],l=e[2],s=o[0],f=o[1],d=o[2],p=s-u,h=f-c,m=p*p+h*h;if(m<1e-12)a=Math.log(d/l)/t,i=function(e){return[u+e*p,c+e*h,l*Math.exp(t*e*a)]};else{var y=Math.sqrt(m),v=(d*d-l*l+r*m)/(2*l*n*y),g=(d*d-l*l-r*m)/(2*d*n*y),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(g*g+1)-g);a=(w-b)/t,i=function(e){var r=e*a,o=Gr(b),i=l/(n*y)*(o*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[u+i*p,c+i*h,l*o/Gr(t*r+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4),Jr=0,eo=0,to=0,no=0,ro=0,oo=0,io="object"==typeof performance&&performance.now?performance:Date,ao="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function uo(){return ro||(ao(co),ro=io.now()+oo)}function co(){ro=0}function lo(){this._call=this._time=this._next=null}function so(e,t,n){var r=new lo;return r.restart(e,t,n),r}function fo(){ro=(no=io.now())+oo,Jr=eo=0;try{!function(){uo(),++Jr;for(var e,t=Wr;t;)(e=ro-t._time)>=0&&t._call.call(null,e),t=t._next;--Jr}()}finally{Jr=0,function(){var e,t,n=Wr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Wr=t);qr=e,ho(r)}(),ro=0}}function po(){var e=io.now(),t=e-no;t>1e3&&(oo-=t,no=e)}function ho(e){Jr||(eo&&(eo=clearTimeout(eo)),e-ro>24?(e<1/0&&(eo=setTimeout(fo,e-io.now()-oo)),to&&(to=clearInterval(to))):(to||(no=io.now(),to=setInterval(po,1e3)),Jr=1,ao(fo)))}function mo(e,t,n){var r=new lo;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}lo.prototype=so.prototype={constructor:lo,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?uo():+n)+(null==t?0:+t),this._next||qr===this||(qr?qr._next=this:Wr=this,qr=this),this._call=e,this._time=n,ho()},stop:function(){this._call&&(this._call=null,this._time=1/0,ho())}};var yo=jt("start","end","cancel","interrupt"),vo=[];function go(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var l,s,f,d;if(1!==n.state)return c();for(l in o)if((d=o[l]).name===n.name){if(3===d.state)return mo(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete o[l]):+l<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete o[l])}if(mo((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,s=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++s]=d);r.length=s+1}}function u(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=so(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:yo,tween:vo,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function bo(e,t){var n=_o(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function wo(e,t){var n=_o(e,t);if(n.state>3)throw new Error("too late; already running");return n}function _o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function So(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function Eo(e,t){var n,r;return function(){var o=wo(this,e),i=o.tween;if(i!==n)for(var a=0,u=(r=n=i).length;a<u;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function xo(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=wo(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=u;break}c===l&&o.push(u)}i.tween=o}}function Oo(e,t,n){var r=e._id;return e.each((function(){var e=wo(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return _o(e,r).value[t]}}function Po(e,t){var n;return("number"==typeof t?Br:t instanceof _r?zr:(n=_r(t))?(t=n,zr):Yr)(e,t)}function Mo(e){return function(){this.removeAttribute(e)}}function Co(e){return function(){this.removeAttributeNS(e.space,e.local)}}function No(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function ko(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Do(e,t,n){var r,o,i;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(u=c+"")?null:a===r&&u===o?i:(o=u,i=t(r=a,c));this.removeAttribute(e)}}function To(e,t,n){var r,o,i;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(u=c+"")?null:a===r&&u===o?i:(o=u,i=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}function jo(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ao(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Io(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Ao(e,o)),n}return o._value=t,o}function Ro(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&jo(e,o)),n}return o._value=t,o}function zo(e,t){return function(){bo(this,e).delay=+t.apply(this,arguments)}}function Bo(e,t){return t=+t,function(){bo(this,e).delay=t}}function Ho(e,t){return function(){wo(this,e).duration=+t.apply(this,arguments)}}function Lo(e,t){return t=+t,function(){wo(this,e).duration=t}}function Yo(e,t){if("function"!=typeof t)throw new Error;return function(){wo(this,e).ease=t}}function Vo(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?bo:wo;return function(){var a=i(this,e),u=a.on;u!==r&&(o=(r=u).copy()).on(t,n),a.on=o}}var Xo=qn.prototype.constructor;function $o(e){return function(){this.style.removeProperty(e)}}function Fo(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Uo(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&Fo(e,i,n)),r}return i._value=t,i}function Zo(e){return function(t){this.textContent=e.call(this,t)}}function Ko(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Zo(r)),t}return r._value=e,r}var Go=0;function Wo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function qo(){return++Go}var Qo=qn.prototype;Wo.prototype={constructor:Wo,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ft(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u,c,l=r[a],s=l.length,f=i[a]=new Array(s),d=0;d<s;++d)(u=l[d])&&(c=e.call(u,u.__data__,d,l))&&("__data__"in u&&(c.__data__=u.__data__),f[d]=c,go(f[d],t,n,d,f,_o(u,n)));return new Wo(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Kt(e));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var d,p=e.call(c,c.__data__,f,l),h=_o(c,n),m=0,y=p.length;m<y;++m)(d=p[m])&&go(d,t,n,m,p,h);i.push(p),a.push(c)}return new Wo(i,a,t,n)},filter:function(e){"function"!=typeof e&&(e=Gt(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new Wo(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,l=t[u],s=n[u],f=l.length,d=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(d[p]=c);for(;u<r;++u)a[u]=t[u];return new Wo(a,this._parents,this._name,this._id)},selection:function(){return new Xo(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=qo(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=_o(a,t);go(a,e,n,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Wo(r,this._parents,e,n)},call:Qo.call,nodes:Qo.nodes,node:Qo.node,size:Qo.size,empty:Qo.empty,each:Qo.each,on:function(e,t){var n=this._id;return arguments.length<2?_o(this.node(),n).on.on(e):this.each(Vo(n,e,t))},attr:function(e,t){var n=Lt(e),r="transform"===n?Kr:Po;return this.attrTween(e,"function"==typeof t?(n.local?To:Do)(n,r,Oo(this,"attr."+e,t)):null==t?(n.local?Co:Mo)(n):(n.local?ko:No)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Lt(e);return this.tween(n,(r.local?Io:Ro)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Zr:Po;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=bn(this,e),a=(this.style.removeProperty(e),bn(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,$o(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=bn(this,e),u=n(this),c=u+"";return null==u&&(this.style.removeProperty(e),c=u=bn(this,e)),a===c?null:a===r&&c===o?i:(o=c,i=t(r=a,u))}}(e,r,Oo(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,u="end."+a;return function(){var c=wo(this,e),l=c.on,s=null==c.value[a]?i||(i=$o(t)):void 0;l===n&&o===s||(r=(n=l).copy()).on(u,o=s),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=bn(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Uo(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Oo(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Ko(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=_o(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?Eo:xo)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?zo:Bo)(t,e)):_o(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ho:Lo)(t,e)):_o(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Yo(t,e)):_o(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;wo(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var u={value:a},c={value:function(){0==--o&&i()}};n.each((function(){var n=wo(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:Qo[Symbol.iterator]};var Jo={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function ei(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}qn.prototype.interrupt=function(e){return this.each((function(){So(this,e)}))},qn.prototype.transition=function(e){var t,n;e instanceof Wo?(t=e._id,e=e._name):(t=qo(),(n=Jo).time=uo(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)(a=u[l])&&go(a,e,t,l,u,n||ei(a,t));return new Wo(r,this._parents,e,t)};var ti=e=>()=>e;function ni(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ri(e,t,n){this.k=e,this.x=t,this.y=n}ri.prototype={constructor:ri,scale:function(e){return 1===e?this:new ri(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ri(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var oi=new ri(1,0,0);function ii(e){e.stopImmediatePropagation()}function ai(e){e.preventDefault(),e.stopImmediatePropagation()}function ui(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function ci(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function li(){return this.__zoom||oi}function si(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function fi(){return navigator.maxTouchPoints||"ontouchstart"in this}function di(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}var pi,hi,mi,yi,vi,gi;e.Position=void 0,(pi=e.Position||(e.Position={})).Left="left",pi.Top="top",pi.Right="right",pi.Bottom="bottom",e.ArrowHeadType=void 0,(hi=e.ArrowHeadType||(e.ArrowHeadType={})).Arrow="arrow",hi.ArrowClosed="arrowclosed",e.BackgroundVariant=void 0,(mi=e.BackgroundVariant||(e.BackgroundVariant={})).Lines="lines",mi.Dots="dots",e.ConnectionMode=void 0,(yi=e.ConnectionMode||(e.ConnectionMode={})).Strict="strict",yi.Loose="loose",e.ConnectionLineType=void 0,(vi=e.ConnectionLineType||(e.ConnectionLineType={})).Bezier="default",vi.Straight="straight",vi.Step="step",vi.SmoothStep="smoothstep",e.PanOnScrollMode=void 0,(gi=e.PanOnScrollMode||(e.PanOnScrollMode={})).Free="free",gi.Vertical="vertical",gi.Horizontal="horizontal";var bi=function(e,t){return e.x!==t.x||e.y!==t.y||e.zoom!==t.k},wi=function(e){return{x:e.x,y:e.y,zoom:e.k}},_i=function(n){var r,o,a=n.onMove,u=n.onMoveStart,c=n.onMoveEnd,l=n.zoomOnScroll,s=void 0===l||l,f=n.zoomOnPinch,d=void 0===f||f,p=n.panOnScroll,h=void 0!==p&&p,m=n.panOnScrollSpeed,y=void 0===m?.5:m,v=n.panOnScrollMode,g=void 0===v?e.PanOnScrollMode.Free:v,b=n.zoomOnDoubleClick,w=void 0===b||b,_=n.selectionKeyPressed,S=n.elementsSelectable,E=n.paneMoveable,x=void 0===E||E,O=n.defaultPosition,P=void 0===O?[0,0]:O,M=n.defaultZoom,C=void 0===M?1:M,N=n.translateExtent,k=n.zoomActivationKeyCode,D=n.children,T=t.useRef(null),j=t.useRef({x:0,y:0,zoom:0}),A=pt(),I=dt((function(e){return e.d3Zoom})),R=dt((function(e){return e.d3Selection})),z=dt((function(e){return e.d3ZoomHandler})),B=st((function(e){return e.initD3Zoom})),H=st((function(e){return e.updateTransform})),L=gt(k);return r=T,o=st((function(e){return e.updateSize})),t.useEffect((function(){var e,t=function(){if(r.current){var e=mt(r.current);0!==e.height&&0!==e.width||console.warn("The React Flow parent container needs a width and a height to render the graph."),o(e)}};return t(),window.onresize=t,r.current&&(e=new ResizeObserver((function(){return t()}))).observe(r.current),function(){window.onresize=null,e&&r.current&&e.unobserve(r.current)}}),[]),t.useEffect((function(){if(T.current){var e=A.getState(),t=void 0!==N?N:e.translateExtent,n=function(){var e,t,n,r=ui,o=ci,i=di,a=si,u=fi,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,f=Qr,d=jt("start","zoom","end"),p=500,h=0,m=10;function y(e){e.property("__zoom",li).on("wheel.zoom",E).on("mousedown.zoom",x).on("dblclick.zoom",O).filter(u).on("touchstart.zoom",P).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new ri(t,e.x,e.y)}function g(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new ri(e.k,r,o)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=_(e,i).event(r),u=o.apply(e,i),c=null==n?b(u):"function"==typeof n?n.apply(e,i):n,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),s=e.__zoom,d="function"==typeof t?t.apply(e,i):t,p=f(s.invert(c).concat(l/s.k),d.invert(c).concat(l/d.k));return function(e){if(1===e)e=d;else{var t=p(e),n=l/t[2];e=new ri(n,c[0]-t[0]*n,c[1]-t[1]*n)}a.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new S(e,t)}function S(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function E(e,...t){if(r.apply(this,arguments)){var n=_(this,t).event(e),o=this.__zoom,u=Math.max(c[0],Math.min(c[1],o.k*Math.pow(2,a.apply(this,arguments)))),s=Jn(e);if(n.wheel)n.mouse[0][0]===s[0]&&n.mouse[0][1]===s[1]||(n.mouse[1]=o.invert(n.mouse[0]=s)),clearTimeout(n.wheel);else{if(o.k===u)return;n.mouse=[s,o.invert(s)],So(this),n.start()}ai(e),n.wheel=setTimeout(f,150),n.zoom("mouse",i(g(v(o,u),n.mouse[0],n.mouse[1]),n.extent,l))}function f(){n.wheel=null,n.end()}}function x(e,...t){if(!n&&r.apply(this,arguments)){var o=_(this,t,!0).event(e),a=Qn(e.view).on("mousemove.zoom",d,!0).on("mouseup.zoom",p,!0),u=Jn(e,c),c=e.currentTarget,s=e.clientX,f=e.clientY;tr(e.view),ii(e),o.mouse=[u,this.__zoom.invert(u)],So(this),o.start()}function d(e){if(ai(e),!o.moved){var t=e.clientX-s,n=e.clientY-f;o.moved=t*t+n*n>h}o.event(e).zoom("mouse",i(g(o.that.__zoom,o.mouse[0]=Jn(e,c),o.mouse[1]),o.extent,l))}function p(e){a.on("mousemove.zoom mouseup.zoom",null),nr(e.view,o.moved),ai(e),o.event(e).end()}}function O(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=Jn(e.changedTouches?e.changedTouches[0]:e,this),u=n.invert(a),c=n.k*(e.shiftKey?.5:2),f=i(g(v(n,c),a,u),o.apply(this,t),l);ai(e),s>0?Qn(this).transition().duration(s).call(w,f,a,e):Qn(this).call(y.transform,f,a,e)}}function P(n,...o){if(r.apply(this,arguments)){var i,a,u,c,l=n.touches,s=l.length,f=_(this,o,n.changedTouches.length===s).event(n);for(ii(n),a=0;a<s;++a)c=[c=Jn(u=l[a],this),this.__zoom.invert(c),u.identifier],f.touch0?f.touch1||f.touch0[2]===c[2]||(f.touch1=c,f.taps=0):(f.touch0=c,i=!0,f.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(f.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),p)),So(this),f.start())}}function M(e,...t){if(this.__zooming){var n,r,o,a,u=_(this,t).event(e),c=e.changedTouches,s=c.length;for(ai(e),n=0;n<s;++n)o=Jn(r=c[n],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=o:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=o);if(r=u.that.__zoom,u.touch1){var f=u.touch0[0],d=u.touch0[1],p=u.touch1[0],h=u.touch1[1],m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m,y=(y=h[0]-d[0])*y+(y=h[1]-d[1])*y;r=v(r,Math.sqrt(m/y)),o=[(f[0]+p[0])/2,(f[1]+p[1])/2],a=[(d[0]+h[0])/2,(d[1]+h[1])/2]}else{if(!u.touch0)return;o=u.touch0[0],a=u.touch0[1]}u.zoom("touch",i(g(r,o,a),u.extent,l))}}function C(e,...r){if(this.__zooming){var o,i,a=_(this,r).event(e),u=e.changedTouches,c=u.length;for(ii(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),o=0;o<c;++o)i=u[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=Jn(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<m)){var l=Qn(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return y.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",li),e!==o?w(e,t,n,r):o.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},y.scaleBy=function(e,t,n,r){y.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},y.scaleTo=function(e,t,n,r){y.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,u=r.invert(a),c="function"==typeof t?t.apply(this,arguments):t;return i(g(v(r,c),a,u),e,l)}),n,r)},y.translateBy=function(e,t,n,r){y.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),l)}),null,r)},y.translateTo=function(e,t,n,r,a){y.transform(e,(function(){var e=o.apply(this,arguments),a=this.__zoom,u=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return i(oi.translate(u[0],u[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,l)}),r,a)},S.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Qn(this.that).datum();d.call(e,this.that,new ni(e,{sourceEvent:this.sourceEvent,target:y,type:e,transform:this.that.__zoom,dispatch:d}),t)}},y.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:ti(+e),y):a},y.filter=function(e){return arguments.length?(r="function"==typeof e?e:ti(!!e),y):r},y.touchable=function(e){return arguments.length?(u="function"==typeof e?e:ti(!!e),y):u},y.extent=function(e){return arguments.length?(o="function"==typeof e?e:ti([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),y):o},y.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],y):[c[0],c[1]]},y.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],y):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},y.constrain=function(e){return arguments.length?(i=e,y):i},y.duration=function(e){return arguments.length?(s=+e,y):s},y.interpolate=function(e){return arguments.length?(f=e,y):f},y.on=function(){var e=d.on.apply(d,arguments);return e===d?y:e},y.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,y):Math.sqrt(h)},y.tapDistance=function(e){return arguments.length?(m=+e,y):m},y}().scaleExtent([e.minZoom,e.maxZoom]).translateExtent(t),r=Qn(T.current).call(n),o=yt(P[0],t[0][0],t[1][0]),i=yt(P[1],t[0][1],t[1][1]),a=yt(C,e.minZoom,e.maxZoom),u=oi.translate(o,i).scale(a);n.transform(r,u),B({d3Zoom:n,d3Selection:r,d3ZoomHandler:r.on("wheel.zoom"),transform:[o,i,a]})}}),[]),t.useEffect((function(){R&&I&&(h&&!L?R.on("wheel",(function(t){t.preventDefault(),t.stopImmediatePropagation();var n=R.property("__zoom").k||1;if(t.ctrlKey&&d){var r=Jn(t),o=-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*10,i=n*Math.pow(2,o);I.scaleTo(R,i,r)}else{var a=1===t.deltaMode?20:1,u=g===e.PanOnScrollMode.Vertical?0:t.deltaX*a,c=g===e.PanOnScrollMode.Horizontal?0:t.deltaY*a;I.translateBy(R,-u/n*y,-c/n*y)}})).on("wheel.zoom",null):void 0!==z&&R.on("wheel",null).on("wheel.zoom",z))}),[h,g,R,I,z,L,d]),t.useEffect((function(){I&&(_?I.on("zoom",null):I.on("zoom",(function(e){if(H([e.transform.x,e.transform.y,e.transform.k]),a){var t=wi(e.transform);a(t)}})))}),[_,I,H,a]),t.useEffect((function(){I&&(u?I.on("start",(function(e){if(bi(j.current,e.transform)){var t=wi(e.transform);j.current=t,u(t)}})):I.on("start",null))}),[I,u]),t.useEffect((function(){I&&(c?I.on("end",(function(e){if(bi(j.current,e.transform)){var t=wi(e.transform);j.current=t,c(t)}})):I.on("end",null))}),[I,c]),t.useEffect((function(){I&&I.filter((function(e){var t=L||s,n=d&&e.ctrlKey;return!!(x||t||h||w||d)&&(!_&&(!(!w&&"dblclick"===e.type)&&((!e.target.closest(".nowheel")||"wheel"!==e.type)&&((!e.target.closest(".react-flow__node")&&!e.target.closest(".react-flow__edgeupdater")||"wheel"===e.type)&&((!e.target.closest(".react-flow__nodesselection")||"wheel"===e.type)&&(!(!d&&e.ctrlKey&&"wheel"===e.type)&&(!!(t||h||n||"wheel"!==e.type)&&(!(!x&&"mousedown"===e.type)&&!(e.ctrlKey&&"wheel"!==e.type||e.button)))))))))}))}),[I,s,d,h,w,x,_,S,L]),i.default.createElement("div",{className:"react-flow__renderer react-flow__zoompane",ref:T},D)};function Si(e){var t=e.target.closest(".react-flow");if(t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}var Ei=function(){var e=dt((function(e){return e.userSelectionRect}));return e.draw?i.default.createElement("div",{className:"react-flow__selection",style:{width:e.width,height:e.height,transform:"translate("+e.x+"px, "+e.y+"px)"}}):null},xi=t.memo((function(e){var t=e.selectionKeyPressed,n=dt((function(e){return e.selectionActive})),r=dt((function(e){return e.elementsSelectable})),o=st((function(e){return e.setUserSelection})),a=st((function(e){return e.updateUserSelection})),u=st((function(e){return e.unsetUserSelection})),c=st((function(e){return e.unsetNodesSelection}));if(!r||!(n||t))return null;return i.default.createElement("div",{className:"react-flow__selectionpane",onMouseDown:function(e){var t=Si(e);t&&o(t)},onMouseMove:function(e){if(t&&n){var r=Si(e);r&&a(r)}},onMouseUp:function(){return u()},onMouseLeave:function(){u(),c()}},i.default.createElement(Ei,null))}));function Oi(e){var t={exports:{}};return e(t,t.exports),t.exports
/** @license React v16.13.1
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */}var Pi="function"==typeof Symbol&&Symbol.for,Mi=Pi?Symbol.for("react.element"):60103,Ci=Pi?Symbol.for("react.portal"):60106,Ni=Pi?Symbol.for("react.fragment"):60107,ki=Pi?Symbol.for("react.strict_mode"):60108,Di=Pi?Symbol.for("react.profiler"):60114,Ti=Pi?Symbol.for("react.provider"):60109,ji=Pi?Symbol.for("react.context"):60110,Ai=Pi?Symbol.for("react.async_mode"):60111,Ii=Pi?Symbol.for("react.concurrent_mode"):60111,Ri=Pi?Symbol.for("react.forward_ref"):60112,zi=Pi?Symbol.for("react.suspense"):60113,Bi=Pi?Symbol.for("react.suspense_list"):60120,Hi=Pi?Symbol.for("react.memo"):60115,Li=Pi?Symbol.for("react.lazy"):60116,Yi=Pi?Symbol.for("react.block"):60121,Vi=Pi?Symbol.for("react.fundamental"):60117,Xi=Pi?Symbol.for("react.responder"):60118,$i=Pi?Symbol.for("react.scope"):60119;function Fi(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Mi:switch(e=e.type){case Ai:case Ii:case Ni:case Di:case ki:case zi:return e;default:switch(e=e&&e.$$typeof){case ji:case Ri:case Li:case Hi:case Ti:return e;default:return t}}case Ci:return t}}}function Ui(e){return Fi(e)===Ii}var Zi={AsyncMode:Ai,ConcurrentMode:Ii,ContextConsumer:ji,ContextProvider:Ti,Element:Mi,ForwardRef:Ri,Fragment:Ni,Lazy:Li,Memo:Hi,Portal:Ci,Profiler:Di,StrictMode:ki,Suspense:zi,isAsyncMode:function(e){return Ui(e)||Fi(e)===Ai},isConcurrentMode:Ui,isContextConsumer:function(e){return Fi(e)===ji},isContextProvider:function(e){return Fi(e)===Ti},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Mi},isForwardRef:function(e){return Fi(e)===Ri},isFragment:function(e){return Fi(e)===Ni},isLazy:function(e){return Fi(e)===Li},isMemo:function(e){return Fi(e)===Hi},isPortal:function(e){return Fi(e)===Ci},isProfiler:function(e){return Fi(e)===Di},isStrictMode:function(e){return Fi(e)===ki},isSuspense:function(e){return Fi(e)===zi},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===Ni||e===Ii||e===Di||e===ki||e===zi||e===Bi||"object"==typeof e&&null!==e&&(e.$$typeof===Li||e.$$typeof===Hi||e.$$typeof===Ti||e.$$typeof===ji||e.$$typeof===Ri||e.$$typeof===Vi||e.$$typeof===Xi||e.$$typeof===$i||e.$$typeof===Yi)},typeOf:Fi},Ki=Oi((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,u=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,s=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var p=e.type;switch(p){case l:case s:case o:case a:case i:case d:return p;default:var y=p&&p.$$typeof;switch(y){case c:case f:case m:case h:case u:return y;default:return t}}case r:return t}}}var _=l,S=s,E=c,x=u,O=n,P=f,M=o,C=m,N=h,k=r,D=a,T=i,j=d,A=!1;function I(e){return w(e)===s}t.AsyncMode=_,t.ConcurrentMode=S,t.ContextConsumer=E,t.ContextProvider=x,t.Element=O,t.ForwardRef=P,t.Fragment=M,t.Lazy=C,t.Memo=N,t.Portal=k,t.Profiler=D,t.StrictMode=T,t.Suspense=j,t.isAsyncMode=function(e){return A||(A=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),I(e)||w(e)===l},t.isConcurrentMode=I,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===s||e===a||e===i||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===v||e.$$typeof===g||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w}()})),Gi=Oi((function(e){"production"===process.env.NODE_ENV?e.exports=Zi:e.exports=Ki})),Wi=Object.getOwnPropertySymbols,qi=Object.prototype.hasOwnProperty,Qi=Object.prototype.propertyIsEnumerable;function Ji(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var ea=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=Ji(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))qi.call(n,a)&&(o[a]=n[a]);if(Wi){r=Wi(n);for(var u=0;u<r.length;u++)Qi.call(n,r[u])&&(o[r[u]]=n[r[u]])}}return o},ta="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",na=function(){};if("production"!==process.env.NODE_ENV){var ra=ta,oa={},ia=Function.call.bind(Object.prototype.hasOwnProperty);na=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function aa(e,t,n,r,o){if("production"!==process.env.NODE_ENV)for(var i in e)if(ia(e,i)){var a;try{if("function"!=typeof e[i]){var u=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw u.name="Invariant Violation",u}a=e[i](t,i,r,n,null,ra)}catch(e){a=e}if(!a||a instanceof Error||na((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in oa)){oa[a.message]=!0;var c=o?o():"";na("Failed "+n+" type: "+a.message+(null!=c?c:""))}}}aa.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(oa={})};var ua=aa,ca=Function.call.bind(Object.prototype.hasOwnProperty),la=function(){};function sa(){return null}"production"!==process.env.NODE_ENV&&(la=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});var fa=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var r="<<anonymous>>",o={array:c("array"),bool:c("boolean"),func:c("function"),number:c("number"),object:c("object"),string:c("string"),symbol:c("symbol"),any:u(sa),arrayOf:function(e){return u((function(t,n,r,o,i){if("function"!=typeof e)return new a("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=t[n];if(!Array.isArray(u))return new a("Invalid "+o+" `"+i+"` of type `"+s(u)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<u.length;c++){var l=e(u,c,r,o,i+"["+c+"]",ta);if(l instanceof Error)return l}return null}))},element:u((function(t,n,r,o,i){var u=t[n];return e(u)?null:new a("Invalid "+o+" `"+i+"` of type `"+s(u)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:u((function(e,t,n,r,o){var i=e[t];return Gi.isValidElementType(i)?null:new a("Invalid "+r+" `"+o+"` of type `"+s(i)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return u((function(t,n,o,i,u){if(!(t[n]instanceof e)){var c=e.name||r;return new a("Invalid "+i+" `"+u+"` of type `"+(((l=t[n]).constructor&&l.constructor.name?l.constructor.name:r)+"` supplied to `")+o+"`, expected instance of `"+c+"`.")}var l;return null}))},node:u((function(e,t,n,r,o){return l(e[t])?null:new a("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return u((function(t,n,r,o,i){if("function"!=typeof e)return new a("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=t[n],c=s(u);if("object"!==c)return new a("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in u)if(ca(u,l)){var f=e(u,l,r,o,i+"."+l,ta);if(f instanceof Error)return f}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&la(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),sa;function t(t,n,r,o,u){for(var c=t[n],l=0;l<e.length;l++)if(i(c,e[l]))return null;var s=JSON.stringify(e,(function(e,t){return"symbol"===f(t)?String(t):t}));return new a("Invalid "+o+" `"+u+"` of value `"+String(c)+"` supplied to `"+r+"`, expected one of "+s+".")}return u(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&la("Invalid argument supplied to oneOfType, expected an instance of array."),sa;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return la("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+d(n)+" at index "+t+"."),sa}return u((function(t,n,r,o,i){for(var u=0;u<e.length;u++)if(null==(0,e[u])(t,n,r,o,i,ta))return null;return new a("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}))},shape:function(e){return u((function(t,n,r,o,i){var u=t[n],c=s(u);if("object"!==c)return new a("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var f=e[l];if(f){var d=f(u,l,r,o,i+"."+l,ta);if(d)return d}}return null}))},exact:function(e){return u((function(t,n,r,o,i){var u=t[n],c=s(u);if("object"!==c)return new a("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var l=ea({},t[n],e);for(var f in l){var d=e[f];if(!d)return new a("Invalid "+o+" `"+i+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=d(u,f,r,o,i+"."+f,ta);if(p)return p}return null}))}};function i(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function a(e){this.message=e,this.stack=""}function u(e){if("production"!==process.env.NODE_ENV)var n={},o=0;function i(i,u,c,l,s,f,d){if(l=l||r,f=f||c,d!==ta){if(t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var h=l+":"+c;!n[h]&&o<3&&(la("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[h]=!0,o++)}}return null==u[c]?i?null===u[c]?new a("The "+s+" `"+f+"` is marked as required in `"+l+"`, but its value is `null`."):new a("The "+s+" `"+f+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:e(u,c,l,s,f)}var u=i.bind(null,!1);return u.isRequired=i.bind(null,!0),u}function c(e){return u((function(t,n,r,o,i,u){var c=t[n];return s(c)!==e?new a("Invalid "+o+" `"+i+"` of type `"+f(c)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function l(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(l);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!l(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!l(a[1]))return!1}return!0;default:return!1}}function s(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function f(e){if(null==e)return""+e;var t=s(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function d(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return a.prototype=Error.prototype,o.checkPropTypes=ua,o.resetWarningCache=ua.resetWarningCache,o.PropTypes=o,o};function da(){}function pa(){}pa.resetWarningCache=da;var ha=Oi((function(e){if("production"!==process.env.NODE_ENV){var t=Gi;e.exports=fa(t.isElement,!0)}else e.exports=function(){function e(e,t,n,r,o,i){if(i!==ta){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pa,resetWarningCache:da};return n.PropTypes=n,n}()})),ma=Oi((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var a=n.apply(null,o);a&&e.push(a)}else if("object"===i)for(var u in o)t.call(o,u)&&o[u]&&e.push(u)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),ya=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},va=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},ga=function(e){return"number"==typeof e&&!isNaN(e)},ba=function(e){return parseInt(e,10)},wa=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))};var _a=Object.defineProperty({findInArray:ya,isFunction:va,isNum:ga,int:ba,dontSetMe:wa},"__esModule",{value:!0});function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ea=Za,xa=function(e,t,n){var r=e;do{if(Za(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},Oa=function(e,t,n,r){if(!e)return;var o=$a({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},Pa=function(e,t,n,r){if(!e)return;var o=$a({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},Ma=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,_a.int)(n.borderTopWidth),t+=(0,_a.int)(n.borderBottomWidth)},Ca=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,_a.int)(n.borderLeftWidth),t+=(0,_a.int)(n.borderRightWidth)},Na=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,_a.int)(n.paddingTop),t-=(0,_a.int)(n.paddingBottom)},ka=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,_a.int)(n.paddingLeft),t-=(0,_a.int)(n.paddingRight)},Da=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:o,y:i}},Ta=function(e,t){var n=Ka(e,t,"px");return Fa({},(0,Ya.browserPrefixToKey)("transform",Ya.default),n)},ja=function(e,t){return Ka(e,t,"")},Aa=Ka,Ia=function(e,t){return e.targetTouches&&(0,_a.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,_a.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},Ra=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},za=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&Ga(e.body,"react-draggable-transparent-selection")},Ba=function(e){if(!e)return;try{if(e.body&&Wa(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},Ha=Ga,La=Wa,Ya=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Sa(e)&&"function"!=typeof e)return{default:e};var t=Va();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(Oi((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=r,t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var r=0;r<n.length;r++)if(o(e,n[r])in t)return n[r];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=r();t.default=i})));function Va(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Va=function(){return e},e}function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){Fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ua="";function Za(e,t){return Ua||(Ua=(0,_a.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,_a.isFunction)(e[t])}))),!!(0,_a.isFunction)(e[Ua])&&e[Ua](t)}function Ka(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),u="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(u,")")+i}return i}function Ga(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Wa(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var qa=Object.defineProperty({matchesSelector:Ea,matchesSelectorAndParentsTo:xa,addEvent:Oa,removeEvent:Pa,outerHeight:Ma,outerWidth:Ca,innerHeight:Na,innerWidth:ka,offsetXYFromParent:Da,createCSSTransform:Ta,createSVGTransform:ja,getTranslation:Aa,getTouch:Ia,getTouchIdentifier:Ra,addUserSelectStyles:za,removeUserSelectStyles:Ba,addClassName:Ha,removeClassName:La},"__esModule",{value:!0}),Qa=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=iu(e);if("string"==typeof r){var i,a=o.ownerDocument,u=a.defaultView;if(!((i="parent"===r?o.parentNode:a.querySelector(r))instanceof u.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var c=u.getComputedStyle(o),l=u.getComputedStyle(i);r={left:-o.offsetLeft+(0,_a.int)(l.paddingLeft)+(0,_a.int)(c.marginLeft),top:-o.offsetTop+(0,_a.int)(l.paddingTop)+(0,_a.int)(c.marginTop),right:(0,qa.innerWidth)(i)-(0,qa.outerWidth)(o)-o.offsetLeft+(0,_a.int)(l.paddingRight)-(0,_a.int)(c.marginRight),bottom:(0,qa.innerHeight)(i)-(0,qa.outerHeight)(o)-o.offsetTop+(0,_a.int)(l.paddingBottom)-(0,_a.int)(c.marginBottom)}}(0,_a.isNum)(r.right)&&(t=Math.min(t,r.right));(0,_a.isNum)(r.bottom)&&(n=Math.min(n,r.bottom));(0,_a.isNum)(r.left)&&(t=Math.max(t,r.left));(0,_a.isNum)(r.top)&&(n=Math.max(n,r.top));return[t,n]},Ja=function(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]},eu=function(e){return"both"===e.props.axis||"x"===e.props.axis},tu=function(e){return"both"===e.props.axis||"y"===e.props.axis},nu=function(e,t,n){var r="number"==typeof t?(0,qa.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var o=iu(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,qa.offsetXYFromParent)(r||e,i,n.props.scale)},ru=function(e,t,n){var r=e.state,o=!(0,_a.isNum)(r.lastX),i=iu(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}},ou=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};function iu(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var au=Object.defineProperty({getBoundPosition:Qa,snapToGrid:Ja,canDragX:eu,canDragY:tu,getControlPosition:nu,createCoreData:ru,createDraggableData:ou},"__esModule",{value:!0}),uu=function(){};var cu=Object.defineProperty({default:uu},"__esModule",{value:!0}),lu=Oi((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i.default),r=c(ha),o=c(u.default),a=c(cu);function c(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={start:"touchstart",move:"touchmove",stop:"touchend"},S={start:"mousedown",move:"mousemove",stop:"mouseup"},E=S,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,r,i,u=y(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(g(e=u.call.apply(u,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(g(e),"mounted",!1),w(g(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,qa.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,qa.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var o=(0,qa.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var i=(0,au.getControlPosition)(t,o,g(e));if(null!=i){var u=i.x,c=i.y,l=(0,au.createCoreData)(g(e),u,c);(0,a.default)("DraggableCore: handleDragStart: %j",l),(0,a.default)("calling",e.props.onStart),!1!==e.props.onStart(t,l)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,qa.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:u,lastY:c}),(0,qa.addEvent)(r,E.move,e.handleDrag),(0,qa.addEvent)(r,E.stop,e.handleDragStop))}}})),w(g(e),"handleDrag",(function(t){var n=(0,au.getControlPosition)(t,e.state.touchIdentifier,g(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX,u=o-e.state.lastY,c=f((0,au.snapToGrid)(e.props.grid,i,u),2);if(i=c[0],u=c[1],!i&&!u)return;r=e.state.lastX+i,o=e.state.lastY+u}var l=(0,au.createCoreData)(g(e),r,o);if((0,a.default)("DraggableCore: handleDrag: %j",l),!1!==e.props.onDrag(t,l)&&!1!==e.mounted)e.setState({lastX:r,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var s=document.createEvent("MouseEvents");s.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(s)}}})),w(g(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,au.getControlPosition)(t,e.state.touchIdentifier,g(e));if(null!=n){var r=n.x,o=n.y,i=(0,au.createCoreData)(g(e),r,o);if(!1===e.props.onStop(t,i)||!1===e.mounted)return!1;var u=e.findDOMNode();u&&e.props.enableUserSelectHack&&(0,qa.removeUserSelectStyles)(u.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",i),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),u&&((0,a.default)("DraggableCore: Removing handlers"),(0,qa.removeEvent)(u.ownerDocument,E.move,e.handleDrag),(0,qa.removeEvent)(u.ownerDocument,E.stop,e.handleDragStop))}}})),w(g(e),"onMouseDown",(function(t){return E=S,e.handleDragStart(t)})),w(g(e),"onMouseUp",(function(t){return E=S,e.handleDragStop(t)})),w(g(e),"onTouchStart",(function(t){return E=_,e.handleDragStart(t)})),w(g(e),"onTouchEnd",(function(t){return E=_,e.handleDragStop(t)})),e}return t=c,(r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,qa.addEvent)(e,_.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,qa.removeEvent)(t,S.move,this.handleDrag),(0,qa.removeEvent)(t,_.move,this.handleDrag),(0,qa.removeEvent)(t,S.stop,this.handleDragStop),(0,qa.removeEvent)(t,_.stop,this.handleDragStop),(0,qa.removeEvent)(e,_.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,qa.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&h(t.prototype,r),i&&h(t,i),c}(n.Component);t.default=x,w(x,"displayName","DraggableCore"),w(x,"propTypes",{allowAnyClick:r.default.bool,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:_a.dontSetMe,style:_a.dontSetMe,transform:_a.dontSetMe}),w(x,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})})),su=Oi((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i.default),r=s(ha),o=s(u.default),a=s(ma),c=s(lu),l=s(cu);function s(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(r,e);var t=S(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),P(x(n=t.call(this,e)),"onDragStart",(function(e,t){if((0,l.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,au.createDraggableData)(x(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),P(x(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",t);var r=(0,au.createDraggableData)(x(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var i=o.x,a=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var u=m((0,au.getBoundPosition)(x(n),o.x,o.y),2),c=u[0],s=u[1];o.x=c,o.y=s,o.slackX=n.state.slackX+(i-o.x),o.slackY=n.state.slackY+(a-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),P(x(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,au.createDraggableData)(x(n),t)))return!1;(0,l.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,i=o.x,a=o.y;r.x=i,r.y=a}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:g({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return w(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:g({},n)})}}]),w(r,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props;t.axis,t.bounds;var r=t.children,o=t.defaultPosition,i=t.defaultClassName,u=t.defaultClassNameDragging,l=t.defaultClassNameDragged,s=t.position,f=t.positionOffset;t.scale;var d=h(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"]),m={},y=null,v=!Boolean(s)||this.state.dragging,b=s||o,w={x:(0,au.canDragX)(this)&&v?this.state.x:b.x,y:(0,au.canDragY)(this)&&v?this.state.y:b.y};this.state.isElementSVG?y=(0,qa.createSVGTransform)(w,f):m=(0,qa.createCSSTransform)(w,f);var _=(0,a.default)(r.props.className||"",i,(P(e={},u,this.state.dragging),P(e,l,this.state.dragged),e));return n.createElement(c.default,p({},d,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:_,style:g(g({},r.props.style),m),transform:y}))}}]),r}(n.Component);t.default=M,P(M,"displayName","Draggable"),P(M,"propTypes",g(g({},c.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:_a.dontSetMe,style:_a.dontSetMe,transform:_a.dontSetMe})),P(M,"defaultProps",g(g({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))})),fu=su.default,du=su.DraggableCore,pu=fu,hu=fu,mu=du;pu.default=hu,pu.DraggableCore=mu;var yu=function(e){var n=e.onSelectionDragStart,r=e.onSelectionDrag,o=e.onSelectionDragStop,a=e.onSelectionContextMenu,u=dt((function(e){return e.transform})),l=u[0],s=u[1],f=u[2],d=dt((function(e){return e.selectedNodesBbox})),p=dt((function(e){return e.selectionActive})),h=dt((function(e){return e.selectedElements})),m=dt((function(e){return e.snapToGrid})),y=dt((function(e){return e.snapGrid})),v=dt((function(e){return e.nodes})),g=st((function(e){return e.updateNodePosDiff})),b=t.useRef(null),w=t.useMemo((function(){return m?y:[1,1]}),[m,y]),_=t.useMemo((function(){return h?h.filter(wt).map((function(e){var t=v.find((function(t){return t.id===e.id}));return c(c({},t),{position:null==t?void 0:t.__rf.position})})):[]}),[h,v]),S=t.useMemo((function(){return{transform:"translate("+l+"px,"+s+"px) scale("+f+")"}}),[l,s,f]),E=t.useMemo((function(){return{width:d.width,height:d.height,top:d.y,left:d.x}}),[d]),x=t.useCallback((function(e){null==n||n(e,_)}),[n,_]),O=t.useCallback((function(e,t){r&&r(e,_),g({diff:{x:t.deltaX,y:t.deltaY}})}),[r,_,g]),P=t.useCallback((function(e){g({isDragging:!1}),null==o||o(e,_)}),[_,o]),M=t.useCallback((function(e){var t=h?h.filter(wt).map((function(e){return v.find((function(t){return t.id===e.id}))})):[];null==a||a(e,t)}),[a]);return!h||p?null:i.default.createElement("div",{className:"react-flow__nodesselection",style:S},i.default.createElement(pu,{scale:f,grid:w,onStart:function(e){return x(e)},onDrag:function(e,t){return O(e,t)},onStop:function(e){return P(e)},nodeRef:b},i.default.createElement("div",{ref:b,className:"react-flow__nodesselection-rect",onContextMenu:M,style:E})))},vu=function(e){var n=e.children,r=e.onPaneClick,o=e.onPaneContextMenu,a=e.onPaneScroll,u=e.onElementsRemove,c=e.deleteKeyCode,l=e.onMove,f=e.onMoveStart,d=e.onMoveEnd,p=e.selectionKeyCode,h=e.multiSelectionKeyCode,m=e.zoomActivationKeyCode,y=e.elementsSelectable,v=e.zoomOnScroll,g=e.zoomOnPinch,b=e.panOnScroll,w=e.panOnScrollSpeed,_=e.panOnScrollMode,S=e.zoomOnDoubleClick,E=e.paneMoveable,x=e.defaultPosition,O=e.defaultZoom,P=e.translateExtent,M=e.onSelectionDragStart,C=e.onSelectionDrag,N=e.onSelectionDragStop,k=e.onSelectionContextMenu,D=st((function(e){return e.unsetNodesSelection})),T=st((function(e){return e.resetSelectedElements})),j=dt((function(e){return e.nodesSelectionActive})),A=gt(p);!function(e){var n=e.deleteKeyCode,r=e.multiSelectionKeyCode,o=e.onElementsRemove,i=pt(),a=st((function(e){return e.unsetNodesSelection})),u=st((function(e){return e.setMultiSelectionActive})),c=st((function(e){return e.resetSelectedElements})),l=gt(n),f=gt(r);t.useEffect((function(){var e=i.getState(),t=e.edges,n=e.selectedElements;if(o&&l&&n){var r=n.filter(wt),u=s(n,Ct(r,t)).reduce((function(e,t){return e.set(t.id,t)}),new Map);o(Array.from(u.values())),a(),c()}}),[l]),t.useEffect((function(){u(f)}),[f])}({onElementsRemove:u,deleteKeyCode:c,multiSelectionKeyCode:h});var I=t.useCallback((function(e){null==r||r(e),D(),T()}),[r]),R=t.useCallback((function(e){null==o||o(e)}),[o]),z=t.useCallback((function(e){null==a||a(e)}),[a]);return i.default.createElement(_i,{onMove:l,onMoveStart:f,onMoveEnd:d,selectionKeyPressed:A,elementsSelectable:y,zoomOnScroll:v,zoomOnPinch:g,panOnScroll:b,panOnScrollSpeed:w,panOnScrollMode:_,zoomOnDoubleClick:S,paneMoveable:E,defaultPosition:x,defaultZoom:O,translateExtent:P,zoomActivationKeyCode:m},n,i.default.createElement(xi,{selectionKeyPressed:A}),j&&i.default.createElement(yu,{onSelectionDragStart:M,onSelectionDrag:C,onSelectionDragStop:N,onSelectionContextMenu:k}),i.default.createElement("div",{className:"react-flow__pane",onClick:I,onContextMenu:R,onWheel:z}))};vu.displayName="FlowRenderer";var gu=t.memo(vu),bu=function(e){var n=dt((function(e){return e.transform})),r=dt((function(e){return e.selectedElements})),o=dt((function(e){return e.nodesDraggable})),a=dt((function(e){return e.nodesConnectable})),u=dt((function(e){return e.elementsSelectable})),c=dt((function(e){return e.viewportBox})),l=dt((function(e){return e.nodes})),s=st((function(e){return e.batchUpdateNodeDimensions})),f=e.onlyRenderVisibleElements?Mt(l,c,n,!0):l,d=t.useMemo((function(){return{transform:"translate("+n[0]+"px,"+n[1]+"px) scale("+n[2]+")"}}),[n[0],n[1],n[2]]),p=t.useMemo((function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver((function(e){var t=e.map((function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target}}));s({updates:t})}))}),[]);return i.default.createElement("div",{className:"react-flow__nodes",style:d},f.map((function(t){var c=t.type||"default",l=e.nodeTypes[c]||e.nodeTypes.default;e.nodeTypes[c]||console.warn('Node type "'+c+'" not found. Using fallback type "default".');var s=!!(t.draggable||o&&void 0===t.draggable),f=!!(t.selectable||u&&void 0===t.selectable),d=!!(t.connectable||a&&void 0===t.connectable);return i.default.createElement(l,{key:t.id,id:t.id,className:t.className,style:t.style,type:c,data:t.data,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,isHidden:t.isHidden,xPos:t.__rf.position.x,yPos:t.__rf.position.y,isDragging:t.__rf.isDragging,isInitialized:null!==t.__rf.width&&null!==t.__rf.height,snapGrid:e.snapGrid,snapToGrid:e.snapToGrid,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onElementClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onNodeDragStart:e.onNodeDragStart,onNodeDrag:e.onNodeDrag,onNodeDragStop:e.onNodeDragStop,scale:n[2],selected:(null==r?void 0:r.some((function(e){return e.id===t.id})))||!1,isDraggable:s,isSelectable:f,isConnectable:d,resizeObserver:p})})))};bu.displayName="NodeRenderer";var wu=t.memo(bu),_u=t.memo((function(e){var n=e.x,r=e.y,o=e.label,a=e.labelStyle,u=void 0===a?{}:a,c=e.labelShowBg,l=void 0===c||c,s=e.labelBgStyle,f=void 0===s?{}:s,d=e.labelBgPadding,p=void 0===d?[2,4]:d,h=e.labelBgBorderRadius,m=void 0===h?2:h,y=t.useRef(null),v=t.useState({x:0,y:0,width:0,height:0}),g=v[0],b=v[1];return t.useEffect((function(){if(y.current){var e=y.current.getBBox();b({x:e.x,y:e.y,width:e.width,height:e.height})}}),[]),void 0!==o&&o?i.default.createElement("g",{transform:"translate("+(n-g.width/2)+" "+(r-g.height/2)+")"},l&&i.default.createElement("rect",{width:g.width+2*p[0],x:-p[0],y:-p[1],height:g.height+2*p[1],className:"react-flow__edge-textbg",style:f,rx:m,ry:m}),i.default.createElement("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:y,style:u},o)):null})),Su=function(e,t){return void 0!==t&&t?"url(#"+t+")":void 0!==e?"url(#react-flow__"+e+")":"none"},Eu=function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,i=Math.abs(r-t)/2,a=r<t?r+i:r-i,u=Math.abs(o-n)/2;return[a,o<n?o+u:o-u,i,u]};function xu(t){var n=t.sourceX,r=t.sourceY,o=t.sourcePosition,i=void 0===o?e.Position.Bottom:o,a=t.targetX,u=t.targetY,c=t.targetPosition,l=void 0===c?e.Position.Top:c,s=t.centerX,f=t.centerY,d=Eu({sourceX:n,sourceY:r,targetX:a,targetY:u}),p=d[0],h=d[1],m=[e.Position.Left,e.Position.Right],y=void 0!==s?s:p,v=void 0!==f?f:h,g="M"+n+","+r+" C"+n+","+v+" "+a+","+v+" "+a+","+u;return m.includes(i)&&m.includes(l)?g="M"+n+","+r+" C"+y+","+r+" "+y+","+u+" "+a+","+u:m.includes(l)?g="M"+n+","+r+" C"+n+","+u+" "+n+","+u+" "+a+","+u:m.includes(i)&&(g="M"+n+","+r+" C"+a+","+r+" "+a+","+r+" "+a+","+u),g}var Ou=t.memo((function(t){var n=t.sourceX,r=t.sourceY,o=t.targetX,a=t.targetY,u=t.sourcePosition,c=void 0===u?e.Position.Bottom:u,l=t.targetPosition,s=void 0===l?e.Position.Top:l,f=t.label,d=t.labelStyle,p=t.labelShowBg,h=t.labelBgStyle,m=t.labelBgPadding,y=t.labelBgBorderRadius,v=t.style,g=t.arrowHeadType,b=t.markerEndId,w=Eu({sourceX:n,sourceY:r,targetX:o,targetY:a}),_=w[0],S=w[1],E=xu({sourceX:n,sourceY:r,sourcePosition:c,targetX:o,targetY:a,targetPosition:s}),x=f?i.default.createElement(_u,{x:_,y:S,label:f,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:y}):null,O=Su(g,b);return i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{style:v,d:E,className:"react-flow__edge-path",markerEnd:O}),x)})),Pu=function(e,t,n){return"L "+e+","+(t-n)+"Q "+e+","+t+" "+(e+n)+","+t},Mu=function(e,t,n){return"L "+e+","+(t-n)+"Q "+e+","+t+" "+(e-n)+","+t},Cu=function(e,t,n){return"L "+(e-n)+","+t+"Q "+e+","+t+" "+e+","+(t-n)},Nu=function(e,t,n){return"L "+e+","+(t+n)+"Q "+e+","+t+" "+(e+n)+","+t},ku=function(e,t,n){return"L "+e+","+(t+n)+"Q "+e+","+t+" "+(e-n)+","+t},Du=function(e,t,n){return"L "+(e-n)+","+t+"Q "+e+","+t+" "+e+","+(t+n)};function Tu(t){var n=t.sourceX,r=t.sourceY,o=t.sourcePosition,i=void 0===o?e.Position.Bottom:o,a=t.targetX,u=t.targetY,c=t.targetPosition,l=void 0===c?e.Position.Top:c,s=t.borderRadius,f=void 0===s?5:s,d=t.centerX,p=t.centerY,h=Eu({sourceX:n,sourceY:r,targetX:a,targetY:u}),m=h[0],y=h[1],v=h[2],g=h[3],b=Math.min(f,Math.abs(a-n)),w=Math.min(f,Math.abs(u-r)),_=Math.min(b,w,v,g),S=[e.Position.Left,e.Position.Right],E=void 0!==d?d:m,x=void 0!==p?p:y,O=null,P=null;return n<=a?(O=r<=u?Pu(n,x,_):Nu(n,x,_),P=r<=u?Du(a,x,_):Cu(a,x,_)):(O=r<u?Mu(n,x,_):ku(n,x,_),P=r<u?function(e,t,n){return"L "+(e+n)+","+t+"Q "+e+","+t+" "+e+","+(t+n)}(a,x,_):function(e,t,n){return"L "+(e+n)+","+t+"Q "+e+","+t+" "+e+","+(t-n)}(a,x,_)),S.includes(i)&&S.includes(l)?n<=a&&(O=r<=u?Du(E,r,_):Cu(E,r,_),P=r<=u?Pu(E,u,_):Nu(E,u,_)):S.includes(i)&&!S.includes(l)?(O=n<=a?r<=u?Du(a,r,_):Cu(a,r,_):r<=u?Mu(n,u,_):ku(n,u,_),P=""):!S.includes(i)&&S.includes(l)&&(O=n<=a?r<=u?Pu(n,u,_):Nu(n,u,_):r<=u?Mu(n,u,_):ku(n,u,_),P=""),"M "+n+","+r+O+P+"L "+a+","+u}var ju=t.memo((function(t){var n=t.sourceX,r=t.sourceY,o=t.targetX,a=t.targetY,u=t.label,c=t.labelStyle,l=t.labelShowBg,s=t.labelBgStyle,f=t.labelBgPadding,d=t.labelBgBorderRadius,p=t.style,h=t.sourcePosition,m=void 0===h?e.Position.Bottom:h,y=t.targetPosition,v=void 0===y?e.Position.Top:y,g=t.arrowHeadType,b=t.markerEndId,w=t.borderRadius,_=void 0===w?5:w,S=Eu({sourceX:n,sourceY:r,targetX:o,targetY:a}),E=S[0],x=S[1],O=Tu({sourceX:n,sourceY:r,sourcePosition:m,targetX:o,targetY:a,targetPosition:v,borderRadius:_}),P=Su(g,b),M=u?i.default.createElement(_u,{x:E,y:x,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:s,labelBgPadding:f,labelBgBorderRadius:d}):null;return i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{style:p,className:"react-flow__edge-path",d:O,markerEnd:P}),M)})),Au=function(n){var r=n.connectionNodeId,o=n.connectionHandleId,a=n.connectionHandleType,u=n.connectionLineStyle,c=n.connectionPositionX,l=n.connectionPositionY,s=n.connectionLineType,f=void 0===s?e.ConnectionLineType.Bezier:s,d=n.nodes,p=void 0===d?[]:d,h=n.transform,m=n.isConnectable,y=n.CustomConnectionLineComponent,v=t.useState(null),g=v[0],b=v[1],w=r,_=o;if(t.useEffect((function(){var e=p.find((function(e){return e.id===w}))||null;b(e)}),[]),!g||!m)return null;var S=_?g.__rf.handleBounds[a].find((function(e){return e.id===_})):g.__rf.handleBounds[a][0],E=S?S.x+S.width/2:g.__rf.width/2,x=S?S.y+S.height/2:g.__rf.height,O=g.__rf.position.x+E,P=g.__rf.position.y+x,M=(c-h[0])/h[2],C=(l-h[1])/h[2],N=(null==S?void 0:S.position)===e.Position.Left||(null==S?void 0:S.position)===e.Position.Right?e.Position.Left:e.Position.Top;if(y)return i.default.createElement("g",{className:"react-flow__connection"},i.default.createElement(y,{sourceX:O,sourceY:P,sourcePosition:null==S?void 0:S.position,targetX:M,targetY:C,targetPosition:N,connectionLineType:f,connectionLineStyle:u}));var k="";return k=f===e.ConnectionLineType.Bezier?xu({sourceX:O,sourceY:P,sourcePosition:null==S?void 0:S.position,targetX:M,targetY:C,targetPosition:N}):f===e.ConnectionLineType.Step?Tu({sourceX:O,sourceY:P,sourcePosition:null==S?void 0:S.position,targetX:M,targetY:C,targetPosition:N,borderRadius:0}):f===e.ConnectionLineType.SmoothStep?Tu({sourceX:O,sourceY:P,sourcePosition:null==S?void 0:S.position,targetX:M,targetY:C,targetPosition:N}):"M"+O+","+P+" "+M+","+C,i.default.createElement("g",{className:"react-flow__connection"},i.default.createElement("path",{d:k,className:"react-flow__connection-path",style:u}))},Iu=function(e){var t=e.id,n=e.children;return i.default.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"12.5",markerHeight:"12.5",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0"},n)},Ru=function(e){var t=e.color;return i.default.createElement("defs",null,i.default.createElement(Iu,{id:"react-flow__arrowclosed"},i.default.createElement("polyline",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:t,points:"-5,-4 0,0 -5,4 -5,-4"})),i.default.createElement(Iu,{id:"react-flow__arrow"},i.default.createElement("polyline",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",fill:"none",points:"-5,-4 0,0 -5,4"})))};Ru.displayName="MarkerDefinitions";var zu=t.memo((function(e){return i.default.createElement(ju,c({},e,{borderRadius:0}))})),Bu=t.memo((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,a=e.label,u=e.labelStyle,c=e.labelShowBg,l=e.labelBgStyle,s=e.labelBgPadding,f=e.labelBgBorderRadius,d=e.style,p=e.arrowHeadType,h=e.markerEndId,m=Math.abs(o-n)/2,y=o<n?o+m:o-m,v=Math.abs(r-t)/2,g=r<t?r+v:r-v,b=Su(p,h),w=a?i.default.createElement(_u,{x:g,y:y,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:f}):null;return i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{style:d,className:"react-flow__edge-path",d:"M "+t+","+n+"L "+r+","+o,markerEnd:b}),w)}));function Hu(t,n,r,o,i,a){var u=document.elementFromPoint(t.clientX,t.clientY),c=(null==u?void 0:u.classList.contains("target"))||!1,l=(null==u?void 0:u.classList.contains("source"))||!1,s={elementBelow:u,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(u&&(c||l)&&(s.isHoveringHandle=!0,n!==e.ConnectionMode.Strict||(r&&l||!r&&c))){var f=u.getAttribute("data-nodeid"),d=u.getAttribute("data-handleid"),p=r?{source:f,sourceHandle:d,target:o,targetHandle:i}:{source:o,sourceHandle:i,target:f,targetHandle:d};s.connection=p,s.isValid=a(p)}return s}function Lu(e){null==e||e.classList.remove("react-flow__handle-valid"),null==e||e.classList.remove("react-flow__handle-connecting")}function Yu(e,t,n,r,o,i,a,u,c,l,s,f){var d=e.target.closest(".react-flow");if(d){var p,h=a?"target":"source",m=d.getBoundingClientRect();o({x:e.clientX-m.left,y:e.clientY-m.top}),r({connectionNodeId:n,connectionHandleId:t,connectionHandleType:h}),null==l||l(e,{nodeId:n,handleId:t,handleType:h}),document.addEventListener("mousemove",y),document.addEventListener("mouseup",(function e(o){var l=Hu(o,c,a,n,t,u),d=l.connection,h=l.isValid;null==s||s(o),h&&(null==i||i(d)),null==f||f(o),Lu(p),r({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",e)}))}function y(e){o({x:e.clientX-m.left,y:e.clientY-m.top});var r=Hu(e,c,a,n,t,u),i=r.connection,l=r.elementBelow,s=r.isValid;if(!r.isHoveringHandle)return Lu(p);!(i.source===i.target)&&l&&(p=l,l.classList.add("react-flow__handle-connecting"),l.classList.toggle("react-flow__handle-valid",s))}}var Vu=function(e){var n=function(n){var r=n.id,o=n.className,a=n.type,u=n.data,c=n.onClick,l=n.selected,s=n.animated,f=n.label,p=n.labelStyle,h=n.labelShowBg,m=n.labelBgStyle,y=n.labelBgPadding,v=n.labelBgBorderRadius,g=n.style,b=n.arrowHeadType,w=n.source,_=n.target,S=n.sourceX,E=n.sourceY,x=n.targetX,O=n.targetY,P=n.sourcePosition,M=n.targetPosition,C=n.elementsSelectable,N=n.markerEndId,k=n.isHidden,D=n.sourceHandleId,T=n.targetHandleId,j=n.handleEdgeUpdate,A=n.onConnectEdge,I=st((function(e){return e.addSelectedElements})),R=st((function(e){return e.setConnectionNodeId})),z=st((function(e){return e.setConnectionPosition})),B=dt((function(e){return e.connectionMode})),H=t.useState(!1),L=H[0],Y=H[1],V=d(["react-flow__edge","react-flow__edge-"+a,o,{selected:l,animated:s,inactive:!C&&!c,updating:L}]),X=t.useCallback((function(e){var t={id:r,source:w,target:_,type:a};D&&(t.sourceHandle=D),T&&(t.targetHandle=T),void 0!==u&&(t.data=u),C&&I(t),null==c||c(e,t)}),[C,r,w,_,a,u,D,T,c]),$=t.useCallback((function(e,t){Yu(e,t?T:D,t?_:w,R,z,A,t,(function(){return!0}),B)}),[r,w,_,a,D,T,R,z]),F=t.useCallback((function(e){$(e,!0)}),[r,w,D,$]),U=t.useCallback((function(e){$(e,!1)}),[r,_,T,$]),Z=t.useCallback((function(){return Y(!0)}),[Y]),K=t.useCallback((function(){return Y(!1)}),[Y]);return k?null:i.default.createElement("g",{className:V,onClick:X},j&&i.default.createElement("g",{onMouseDown:F,onMouseEnter:Z,onMouseOut:K},i.default.createElement("circle",{className:"react-flow__edgeupdater",cx:S,cy:E,r:10,stroke:"transparent",fill:"transparent"})),i.default.createElement(e,{id:r,source:w,target:_,selected:l,animated:s,label:f,labelStyle:p,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:v,data:u,style:g,arrowHeadType:b,sourceX:S,sourceY:E,targetX:x,targetY:O,sourcePosition:P,targetPosition:M,markerEndId:N,sourceHandleId:D,targetHandleId:T}),j&&i.default.createElement("g",{onMouseDown:U,onMouseEnter:Z,onMouseOut:K},i.default.createElement("circle",{className:"react-flow__edgeupdater",cx:x,cy:O,r:10,stroke:"transparent",fill:"transparent"})))};return n.displayName="EdgeWrapper",t.memo(n)};function Xu(t,n,r){void 0===r&&(r=null);var o=((null==r?void 0:r.x)||0)+n.__rf.position.x,i=((null==r?void 0:r.y)||0)+n.__rf.position.y,a=(null==r?void 0:r.width)||n.__rf.width,u=(null==r?void 0:r.height)||n.__rf.height;switch(t){case e.Position.Top:return{x:o+a/2,y:i};case e.Position.Right:return{x:o+a,y:i+u/2};case e.Position.Bottom:return{x:o+a/2,y:i+u};case e.Position.Left:return{x:o,y:i+u/2}}}function $u(e,t){if(!e)return null;var n=null;return 1!==e.length&&t?t&&(n=e.find((function(e){return e.id===t}))):n=e[0],void 0===n?null:n}var Fu=function(n){var r=n.edge,o=n.props,a=n.nodes,u=n.selectedElements,c=n.elementsSelectable,l=n.transform,s=n.width,f=n.height,d=n.onlyRenderVisibleElements,p=n.connectionMode,h=r.sourceHandle||null,m=r.targetHandle||null,y=function(e,t){return t.reduce((function(t,n){return n.id===e.source&&(t.sourceNode=n),n.id===e.target&&(t.targetNode=n),t}),{sourceNode:null,targetNode:null})}(r,a),v=y.sourceNode,g=y.targetNode,b=t.useCallback((function(e){var t;null===(t=o.onEdgeUpdate)||void 0===t||t.call(o,r,e)}),[r]);if(!v)return console.warn("couldn't create edge for source id: "+r.source+"; edge id: "+r.id),null;if(!g)return console.warn("couldn't create edge for target id: "+r.target+"; edge id: "+r.id),null;if(!v.__rf.width||!g.__rf.width)return null;var w=r.type||"default",_=o.edgeTypes[w]||o.edgeTypes.default,S=g.__rf.handleBounds,E=p===e.ConnectionMode.Strict?S.target:S.target||S.source,x=$u(v.__rf.handleBounds.source,h),O=$u(E,m),P=x?x.position:e.Position.Bottom,M=O?O.position:e.Position.Top;if(!x)return console.warn("couldn't create edge for source handle id: "+h+"; edge id: "+r.id),null;if(!O)return console.warn("couldn't create edge for target handle id: "+m+"; edge id: "+r.id),null;var C=function(e,t,n,r,o,i){var a=Xu(n,e,t),u=Xu(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:u.x,targetY:u.y}}(v,x,P,g,O,M),N=C.sourceX,k=C.sourceY,D=C.targetX,T=C.targetY;if(!(!d||function(e){var t=e.sourcePos,n=e.targetPos,r=e.width,o=e.height,i=e.transform,a={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x,n.x),y2:Math.max(t.y,n.y)};a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);var u=xt({x:(0-i[0])/i[2],y:(0-i[1])/i[2],width:r/i[2],height:o/i[2]}),c=Math.max(0,Math.min(u.x2,a.x2)-Math.max(u.x,a.x)),l=Math.max(0,Math.min(u.y2,a.y2)-Math.max(u.y,a.y));return Math.ceil(c*l)>0}({sourcePos:{x:N,y:k},targetPos:{x:D,y:T},width:s,height:f,transform:l})))return null;var j=(null==u?void 0:u.some((function(e){return bt(e)&&e.id===r.id})))||!1;return i.default.createElement(_,{key:r.id,id:r.id,className:r.className,type:r.type,data:r.data,onClick:o.onElementClick,selected:j,animated:r.animated,label:r.label,labelStyle:r.labelStyle,labelShowBg:r.labelShowBg,labelBgStyle:r.labelBgStyle,labelBgPadding:r.labelBgPadding,labelBgBorderRadius:r.labelBgBorderRadius,style:r.style,arrowHeadType:r.arrowHeadType,source:r.source,target:r.target,sourceHandleId:h,targetHandleId:m,sourceX:N,sourceY:k,targetX:D,targetY:T,sourcePosition:P,targetPosition:M,elementsSelectable:c,markerEndId:o.markerEndId,isHidden:r.isHidden,onConnectEdge:b,handleEdgeUpdate:void 0!==o.onEdgeUpdate})},Uu=function(e){var t=dt((function(e){return e.transform})),n=dt((function(e){return e.edges})),r=dt((function(e){return e.connectionNodeId})),o=dt((function(e){return e.connectionHandleId})),a=dt((function(e){return e.connectionHandleType})),u=dt((function(e){return e.connectionPosition})),c=dt((function(e){return e.selectedElements})),l=dt((function(e){return e.nodesConnectable})),s=dt((function(e){return e.elementsSelectable})),f=dt((function(e){return e.width})),d=dt((function(e){return e.height})),p=dt((function(e){return e.nodes}));if(!f)return null;var h=e.connectionLineType,m=e.arrowHeadColor,y=e.connectionLineStyle,v=e.connectionLineComponent,g=e.onlyRenderVisibleElements,b="translate("+t[0]+","+t[1]+") scale("+t[2]+")",w=r&&a;return i.default.createElement("svg",{width:f,height:d,className:"react-flow__edges"},i.default.createElement(Ru,{color:m}),i.default.createElement("g",{transform:b},n.map((function(n){return i.default.createElement(Fu,{key:n.id,edge:n,props:e,nodes:p,selectedElements:c,elementsSelectable:s,transform:t,width:f,height:d,onlyRenderVisibleElements:g})})),w&&i.default.createElement(Au,{nodes:p,connectionNodeId:r,connectionHandleId:o,connectionHandleType:a,connectionPositionX:u.x,connectionPositionY:u.y,transform:t,connectionLineStyle:y,connectionLineType:h,isConnectable:l,CustomConnectionLineComponent:v})))};Uu.displayName="EdgeRenderer";var Zu=t.memo(Uu),Ku=.1,Gu={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},transform:function(e){},fitView:function(e){},setCenter:function(e,t){},fitBounds:function(e){},initialized:!1},Wu=function(e,t,n,r,o,i){void 0===i&&(i=Ku);var a=t/(e.width*(1+i)),u=n/(e.height*(1+i)),c=Math.min(a,u),l=yt(c,r,o);return[t/2-(e.x+e.width/2)*l,n/2-(e.y+e.height/2)*l,l]},qu=function(){var e=pt(),n=dt((function(e){return e.d3Zoom})),r=dt((function(e){return e.d3Selection}));return t.useMemo((function(){return r&&n?{zoomIn:function(){return n.scaleBy(r,1.2)},zoomOut:function(){return n.scaleBy(r,1/1.2)},zoomTo:function(e){return n.scaleTo(r,e)},transform:function(e){var t=oi.translate(e.x,e.y).scale(e.zoom);n.transform(r,t)},fitView:function(t){var o;void 0===t&&(t={padding:Ku,includeHiddenNodes:!1});var i=e.getState(),a=i.nodes,u=i.width,c=i.height,l=i.minZoom,s=i.maxZoom;if(a.length){var f=Pt(t.includeHiddenNodes?a:a.filter((function(e){return!e.isHidden}))),d=null!==(o=t.padding)&&void 0!==o?o:Ku,p=Wu(f,u,c,l,s,d),h=p[0],m=p[1],y=p[2],v=oi.translate(h,m).scale(y);n.transform(r,v)}},setCenter:function(t,o,i){var a=e.getState(),u=a.width,c=a.height,l=a.maxZoom,s=void 0!==i?i:l,f=u/2-t*s,d=c/2-o*s,p=oi.translate(f,d).scale(s);n.transform(r,p)},fitBounds:function(t,o){void 0===o&&(o=Ku);var i=e.getState(),a=i.width,u=i.height,c=i.minZoom,l=i.maxZoom,s=Wu(t,a,u,c,l,o),f=s[0],d=s[1],p=s[2],h=oi.translate(f,d).scale(p);n.transform(r,h)},initialized:!0}:Gu}),[n,r])},Qu=function(e){var n=e.nodeTypes,r=e.edgeTypes,o=e.onMove,a=e.onMoveStart,u=e.onMoveEnd,c=e.onLoad,l=e.onElementClick,s=e.onNodeMouseEnter,f=e.onNodeMouseMove,d=e.onNodeMouseLeave,p=e.onNodeContextMenu,h=e.onNodeDragStart,m=e.onNodeDrag,y=e.onNodeDragStop,v=e.onSelectionDragStart,g=e.onSelectionDrag,b=e.onSelectionDragStop,w=e.onSelectionContextMenu,_=e.connectionMode,S=e.connectionLineType,E=e.connectionLineStyle,x=e.connectionLineComponent,O=e.selectionKeyCode,P=e.multiSelectionKeyCode,M=e.zoomActivationKeyCode,C=e.onElementsRemove,N=e.deleteKeyCode,k=e.onConnect,D=e.onConnectStart,T=e.onConnectStop,j=e.onConnectEnd,A=e.snapToGrid,I=e.snapGrid,R=e.onlyRenderVisibleElements,z=e.nodesDraggable,B=e.nodesConnectable,H=e.elementsSelectable,L=e.selectNodesOnDrag,Y=e.minZoom,V=e.maxZoom,X=e.defaultZoom,$=e.defaultPosition,F=e.translateExtent,U=e.nodeExtent,Z=e.arrowHeadColor,K=e.markerEndId,G=e.zoomOnScroll,W=e.zoomOnPinch,q=e.panOnScroll,Q=e.panOnScrollSpeed,J=e.panOnScrollMode,ee=e.zoomOnDoubleClick,te=e.paneMoveable,ne=e.onPaneClick,re=e.onPaneScroll,oe=e.onPaneContextMenu,ie=e.onEdgeUpdate,ae=t.useRef(!1),ue=st((function(e){return e.setOnConnect})),ce=st((function(e){return e.setOnConnectStart})),le=st((function(e){return e.setOnConnectStop})),se=st((function(e){return e.setOnConnectEnd})),fe=st((function(e){return e.setSnapGrid})),de=st((function(e){return e.setSnapToGrid})),pe=st((function(e){return e.setNodesDraggable})),he=st((function(e){return e.setNodesConnectable})),me=st((function(e){return e.setElementsSelectable})),ye=st((function(e){return e.setMinZoom})),ve=st((function(e){return e.setMaxZoom})),ge=st((function(e){return e.setTranslateExtent})),be=st((function(e){return e.setNodeExtent})),we=st((function(e){return e.setConnectionMode})),_e=pt(),Se=qu(),Ee=Se.zoomIn,xe=Se.zoomOut,Oe=Se.zoomTo,Pe=Se.transform,Me=Se.fitView,Ce=Se.initialized;return t.useEffect((function(){!ae.current&&Ce&&(c&&c({fitView:function(e){return void 0===e&&(e={padding:.1}),Me(e)},zoomIn:Ee,zoomOut:xe,zoomTo:Oe,setTransform:Pe,project:St(_e),getElements:kt(_e),toObject:Dt(_e)}),ae.current=!0)}),[c,Ee,xe,Oe,Pe,Me,Ce]),t.useEffect((function(){k&&ue(k)}),[k]),t.useEffect((function(){D&&ce(D)}),[D]),t.useEffect((function(){T&&le(T)}),[T]),t.useEffect((function(){j&&se(j)}),[j]),t.useEffect((function(){void 0!==A&&de(A)}),[A]),t.useEffect((function(){void 0!==I&&fe(I)}),[I]),t.useEffect((function(){void 0!==z&&pe(z)}),[z]),t.useEffect((function(){void 0!==B&&he(B)}),[B]),t.useEffect((function(){void 0!==H&&me(H)}),[H]),t.useEffect((function(){void 0!==Y&&ye(Y)}),[Y]),t.useEffect((function(){void 0!==V&&ve(V)}),[V]),t.useEffect((function(){void 0!==F&&ge(F)}),[F]),t.useEffect((function(){void 0!==U&&be(U)}),[U]),t.useEffect((function(){void 0!==_&&we(_)}),[_]),i.default.createElement(gu,{onPaneClick:ne,onPaneContextMenu:oe,onPaneScroll:re,onElementsRemove:C,deleteKeyCode:N,selectionKeyCode:O,multiSelectionKeyCode:P,zoomActivationKeyCode:M,elementsSelectable:H,onMove:o,onMoveStart:a,onMoveEnd:u,zoomOnScroll:G,zoomOnPinch:W,zoomOnDoubleClick:ee,panOnScroll:q,panOnScrollSpeed:Q,panOnScrollMode:J,paneMoveable:te,defaultPosition:$,defaultZoom:X,translateExtent:F,onSelectionDragStart:v,onSelectionDrag:g,onSelectionDragStop:b,onSelectionContextMenu:w},i.default.createElement(wu,{nodeTypes:n,onElementClick:l,onNodeMouseEnter:s,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:p,onNodeDragStop:y,onNodeDrag:m,onNodeDragStart:h,selectNodesOnDrag:L,snapToGrid:A,snapGrid:I,onlyRenderVisibleElements:R}),i.default.createElement(Zu,{edgeTypes:r,onElementClick:l,connectionLineType:S,connectionLineStyle:E,connectionLineComponent:x,connectionMode:_,arrowHeadColor:Z,markerEndId:K,onEdgeUpdate:ie,onlyRenderVisibleElements:R}))};Qu.displayName="GraphView";var Ju=t.memo(Qu),ec=function(e){var n=e.elements,r=st((function(e){return e.setElements}));return t.useEffect((function(){r(n)}),[n]),null},tc=t.createContext(null),nc=tc.Provider;tc.Consumer;var rc=function(){return!0},oc=function(n){var r=n.type,o=void 0===r?"source":r,a=n.position,u=void 0===a?e.Position.Top:a,s=n.isValidConnection,f=void 0===s?rc:s,p=n.isConnectable,h=void 0===p||p,m=n.id,y=n.onConnect,v=n.children,g=n.className,b=l(n,["type","position","isValidConnection","isConnectable","id","onConnect","children","className"]),w=t.useContext(tc),_=st((function(e){return e.setConnectionPosition})),S=st((function(e){return e.setConnectionNodeId})),E=dt((function(e){return e.onConnect})),x=dt((function(e){return e.onConnectStart})),O=dt((function(e){return e.onConnectStop})),P=dt((function(e){return e.onConnectEnd})),M=dt((function(e){return e.connectionMode})),C=m||null,N="target"===o,k=t.useCallback((function(e){null==E||E(e),null==y||y(e)}),[E,y]),D=t.useCallback((function(e){Yu(e,C,w,S,_,k,N,f,M,x,O,P)}),[C,w,S,_,k,N,f,M,x,O,P]),T=d(["react-flow__handle","react-flow__handle-"+u,"nodrag",g,{source:!N,target:N,connectable:h}]);return i.default.createElement("div",c({"data-handleid":C,"data-nodeid":w,"data-handlepos":u,className:T,onMouseDown:D},b),v)};oc.displayName="Handle";var ic=t.memo(oc),ac=function(t){var n=t.data,r=t.isConnectable,o=t.targetPosition,a=void 0===o?e.Position.Top:o,u=t.sourcePosition,c=void 0===u?e.Position.Bottom:u;return i.default.createElement(i.default.Fragment,null,i.default.createElement(ic,{type:"target",position:a,isConnectable:r}),n.label,i.default.createElement(ic,{type:"source",position:c,isConnectable:r}))};ac.displayName="DefaultNode";var uc=t.memo(ac),cc=function(t){var n=t.data,r=t.isConnectable,o=t.sourcePosition,a=void 0===o?e.Position.Bottom:o;return i.default.createElement(i.default.Fragment,null,n.label,i.default.createElement(ic,{type:"source",position:a,isConnectable:r}))};cc.displayName="InputNode";var lc=t.memo(cc),sc=function(t){var n=t.data,r=t.isConnectable,o=t.targetPosition,a=void 0===o?e.Position.Top:o;return i.default.createElement(i.default.Fragment,null,i.default.createElement(ic,{type:"target",position:a,isConnectable:r}),n.label)};sc.displayName="OutputNode";var fc=t.memo(sc),dc=function(e){var n=function(n){var r=n.id,o=n.type,a=n.data,u=n.scale,l=n.xPos,s=n.yPos,f=n.selected,p=n.onClick,h=n.onMouseEnter,m=n.onMouseMove,y=n.onMouseLeave,v=n.onContextMenu,g=n.onNodeDragStart,b=n.onNodeDrag,w=n.onNodeDragStop,_=n.style,S=n.className,E=n.isDraggable,x=n.isSelectable,O=n.isConnectable,P=n.selectNodesOnDrag,M=n.sourcePosition,C=n.targetPosition,N=n.isHidden,k=n.isInitialized,D=n.snapToGrid,T=n.snapGrid,j=n.isDragging,A=n.resizeObserver,I=st((function(e){return e.updateNodeDimensions})),R=st((function(e){return e.addSelectedElements})),z=st((function(e){return e.updateNodePosDiff})),B=st((function(e){return e.unsetNodesSelection})),H=t.useRef(null),L=t.useMemo((function(){return{id:r,type:o,position:{x:l,y:s},data:a}}),[r,o,l,s,a]),Y=t.useMemo((function(){return D?T:[1,1]}),[D,T]),V=t.useMemo((function(){return c({zIndex:f?10:3,transform:"translate("+l+"px,"+s+"px)",pointerEvents:x||E||p?"all":"none",opacity:k?1:0},_)}),[f,l,s,x,E,p,k,_]),X=t.useMemo((function(){if(h&&!j)return function(e){return h(e,L)}}),[h,j,L]),$=t.useMemo((function(){if(m&&!j)return function(e){return m(e,L)}}),[m,j,L]),F=t.useMemo((function(){if(y&&!j)return function(e){return y(e,L)}}),[y,j,L]),U=t.useMemo((function(){if(v)return function(e){return v(e,L)}}),[v,L]),Z=t.useCallback((function(e){E||(x&&(B(),f||R(L)),null==p||p(e,L))}),[x,f,E,p,L]),K=t.useCallback((function(e){null==g||g(e,L),P&&x?(B(),f||R(L)):P||f||!x||(B(),R([]))}),[L,f,P,x,g]),G=t.useCallback((function(e,t){b&&(L.position.x+=t.deltaX,L.position.y+=t.deltaY,b(e,L)),z({id:r,diff:{x:t.deltaX,y:t.deltaY}})}),[r,L,b]),W=t.useCallback((function(e){if(!j)return!x||P||f||R(L),void(null==p||p(e,L));z({id:L.id,isDragging:!1}),null==w||w(e,L)}),[L,x,P,p,w,j,f]);if(t.useEffect((function(){H.current&&!N&&I({id:r,nodeElement:H.current})}),[r,N,M,C]),t.useEffect((function(){if(H.current){var e=H.current;return null==A||A.observe(e),function(){return null==A?void 0:A.unobserve(e)}}}),[]),N)return null;var q=d(["react-flow__node","react-flow__node-"+o,S,{selected:f,selectable:x}]);return i.default.createElement(mu,{onStart:K,onDrag:G,onStop:W,scale:u,disabled:!E,cancel:".nodrag",nodeRef:H,grid:Y},i.default.createElement("div",{className:q,ref:H,style:V,onMouseEnter:X,onMouseMove:$,onMouseLeave:F,onContextMenu:U,onClick:Z,"data-id":r},i.default.createElement(nc,{value:r},i.default.createElement(e,{id:r,data:a,type:o,xPos:l,yPos:s,selected:f,isConnectable:O,sourcePosition:M,targetPosition:C,isDragging:j}))))};return n.displayName="NodeWrapper",t.memo(n)};var pc,hc,mc=function(e){var n=e.onSelectionChange,r=dt((function(e){return e.selectedElements}));return t.useEffect((function(){n(r)}),[r]),null},yc=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n},vc=function(e,t){var n=e.getBoundingClientRect();return{source:gc(".source",e,n,t),target:gc(".target",e,n,t)}},gc=function(e,t,n,r){var o=t.querySelectorAll(e);return o&&o.length?Array.from(o).map((function(e){var t=e.getBoundingClientRect(),o=mt(e),i=e.getAttribute("data-handleid"),a=e.getAttribute("data-handlepos");return c({id:i,position:a,x:(t.left-n.left)/r,y:(t.top-n.top)/r},o)})):null},bc={width:0,height:0,transform:[0,0,1],elements:[],nodes:Te((function(e){return e.elements.filter(wt)})),edges:Te((function(e){return e.elements.filter(bt)})),selectedElements:null,selectedNodesBbox:{x:0,y:0,width:0,height:0},viewportBox:Te((function(e){return{x:0,y:0,width:e.width,height:e.height}})),d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodesSelectionActive:!1,selectionActive:!1,userSelectionRect:{startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:e.ConnectionMode.Strict,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,multiSelectionActive:!1,reactFlowVersion:"8.8.0",setOnConnect:ke((function(e,t){e.onConnect=t})),setOnConnectStart:ke((function(e,t){e.onConnectStart=t})),setOnConnectStop:ke((function(e,t){e.onConnectStop=t})),setOnConnectEnd:ke((function(e,t){e.onConnectEnd=t})),setElements:ke((function(e,t){for(var n,r=function(r){var o=e.elements[r];t.find((function(e){return e.id===o.id}))||(e.elements.splice(r,1),r--),n=r},o=0;o<e.elements.length;o++)r(o),o=n;t.forEach((function(t){var n=e.elements.findIndex((function(e){return e.id===t.id}));if(-1!==n){var r=e.elements[n];if(wt(r)){var o=t,i=r.position.x!==o.position.x||r.position.y!==o.position.y,a=void 0!==o.type&&o.type!==r.type;e.elements[n]=c(c({},r),o),i&&(e.elements[n].__rf.position=vt(o.position,e.nodeExtent)),a&&(e.elements[n].__rf.width=null)}else e.elements[n]=c(c({},r),t)}else e.elements.push(function(e,t){if(!e.id)throw new Error("All nodes and edges need to have an id.");return bt(e)?c(c({},e),{source:e.source.toString(),target:e.target.toString(),sourceHandle:e.sourceHandle?e.sourceHandle.toString():null,targetHandle:e.targetHandle?e.targetHandle.toString():null,id:e.id.toString(),type:e.type||"default"}):c(c({},e),{id:e.id.toString(),type:e.type||"default",__rf:{position:vt(e.position,t),width:null,height:null,handleBounds:{},isDragging:!1}})}(t,e.nodeExtent))}))})),batchUpdateNodeDimensions:ke((function(e,t){t.updates.forEach((function(t){var n=mt(t.nodeElement),r=e.elements.findIndex((function(e){return e.id===t.id})),o=e.elements[r];if(-1!==r&&n.width&&n.height&&(o.__rf.width!==n.width||o.__rf.height!==n.height)){var i=vc(t.nodeElement,e.transform[2]);e.elements[r].__rf.width=n.width,e.elements[r].__rf.height=n.height,e.elements[r].__rf.handleBounds=i}}))})),updateNodeDimensions:ke((function(e,t){var n=t.id,r=t.nodeElement,o=mt(r),i=e.elements.findIndex((function(e){return e.id===n}));if(-1!==i&&o.width&&o.height){var a=vc(r,e.transform[2]);e.elements[i].__rf.width=o.width,e.elements[i].__rf.height=o.height,e.elements[i].__rf.handleBounds=a}})),updateNodePos:ke((function(e,t){var n=t.id,r=t.pos,o=r;if(e.snapToGrid){var i=e.snapGrid,a=i[0],u=i[1];o={x:a*Math.round(r.x/a),y:u*Math.round(r.y/u)}}e.elements.forEach((function(t){t.id===n&&wt(t)&&(t.__rf.position=vt(o,e.nodeExtent))}))})),updateNodePosDiff:ke((function(e,t){var n=t.id,r=void 0===n?null:n,o=t.diff,i=void 0===o?null:o,a=t.isDragging,u=void 0===a||a;e.elements.forEach((function(t){var n;if(wt(t)&&(r===t.id||(null===(n=e.selectedElements)||void 0===n?void 0:n.find((function(e){return e.id===t.id}))))){if(i){var o={x:t.__rf.position.x+i.x,y:t.__rf.position.y+i.y};t.__rf.position=vt(o,e.nodeExtent)}t.__rf.isDragging=u}}))})),setUserSelection:ke((function(e,t){e.userSelectionRect={width:0,height:0,startX:t.x,startY:t.y,x:t.x,y:t.y,draw:!0},e.selectionActive=!0})),updateUserSelection:ke((function(e,t){var n=e.userSelectionRect.startX||0,r=e.userSelectionRect.startY||0,o=t.x<n,i=t.y<r,a=c(c({},e.userSelectionRect),{x:o?t.x:e.userSelectionRect.x,y:i?t.y:e.userSelectionRect.y,width:Math.abs(t.x-n),height:Math.abs(t.y-r)}),u=Mt(e.nodes,a,e.transform),l=s(u,Ct(u,e.edges)),f=!yc(l,e.selectedElements);e.userSelectionRect=a,f&&(e.selectedElements=l.length>0?l:null)})),unsetUserSelection:ke((function(e){var t,n=null===(t=e.selectedElements)||void 0===t?void 0:t.filter((function(e){return wt(e)&&e.__rf}));if(!n||0===n.length)return e.selectionActive=!1,e.userSelectionRect.draw=!1,e.nodesSelectionActive=!1,void(e.selectedElements=null);var r=Pt(n);e.nodesSelectionActive=!0,e.selectedNodesBbox=r,e.userSelectionRect.draw=!1,e.selectionActive=!1})),setSelection:ke((function(e,t){e.selectionActive=t})),unsetNodesSelection:ke((function(e){e.nodesSelectionActive=!1})),resetSelectedElements:ke((function(e){e.selectedElements=null})),setSelectedElements:ke((function(e,t){var n=Array.isArray(t)?t:[t],r=!yc(n,e.selectedElements)?n:e.selectedElements;e.selectedElements=r})),addSelectedElements:(pc=function(e,t,n){var r=n.getState(),o=r.multiSelectionActive,i=r.selectedElements,a=Array.isArray(t)?t:[t];if(o){var u=i?s(i,a):a;e.setSelectedElements(u)}else e.setSelectedElements(t)},(hc={}).$_t=!0,hc.fn=pc,hc),updateTransform:ke((function(e,t){e.transform[0]=t[0],e.transform[1]=t[1],e.transform[2]=t[2]})),updateSize:ke((function(e,t){e.width=t.width||500,e.height=t.height||500})),initD3Zoom:ke((function(e,t){var n=t.d3Zoom,r=t.d3Selection,o=t.d3ZoomHandler,i=t.transform;e.d3Zoom=n,e.d3Selection=r,e.d3ZoomHandler=o,e.transform[0]=i[0],e.transform[1]=i[1],e.transform[2]=i[2]})),setMinZoom:ke((function(e,t){e.minZoom=t,e.d3Zoom&&e.d3Zoom.scaleExtent([t,e.maxZoom])})),setMaxZoom:ke((function(e,t){e.maxZoom=t,e.d3Zoom&&e.d3Zoom.scaleExtent([e.minZoom,t])})),setTranslateExtent:ke((function(e,t){e.translateExtent=t,e.d3Zoom&&e.d3Zoom.translateExtent(t)})),setNodeExtent:ke((function(e,t){e.nodeExtent=t,e.elements.forEach((function(e){wt(e)&&(e.__rf.position=vt(e.__rf.position,t))}))})),setConnectionPosition:ke((function(e,t){e.connectionPosition=t})),setConnectionNodeId:ke((function(e,t){var n=t.connectionNodeId,r=t.connectionHandleId,o=t.connectionHandleType;e.connectionNodeId=n,e.connectionHandleId=r,e.connectionHandleType=o})),setSnapToGrid:ke((function(e,t){e.snapToGrid=t})),setSnapGrid:ke((function(e,t){e.snapGrid[0]=t[0],e.snapGrid[1]=t[1]})),setInteractive:ke((function(e,t){e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t})),setNodesDraggable:ke((function(e,t){e.nodesDraggable=t})),setNodesConnectable:ke((function(e,t){e.nodesConnectable=t})),setElementsSelectable:ke((function(e,t){e.elementsSelectable=t})),setMultiSelectionActive:ke((function(e,t){e.multiSelectionActive=t})),setConnectionMode:ke((function(e,t){e.connectionMode=t}))},wc=ut(bc,{devTools:!1}),_c=function(e){var t,n=e.children,r=pt();return(null===(t=null==r?void 0:r.getState())||void 0===t?void 0:t.reactFlowVersion)?i.default.createElement(i.default.Fragment,null,n):i.default.createElement(ct,{store:wc},n)};_c.displayName="ReactFlowWrapper";var Sc={input:lc,default:uc,output:fc},Ec={default:Ou,straight:Bu,step:zu,smoothstep:ju},xc=function(n){var r=n.elements,o=void 0===r?[]:r,a=n.className,u=n.nodeTypes,s=void 0===u?Sc:u,f=n.edgeTypes,p=void 0===f?Ec:f,h=n.onElementClick,m=n.onLoad,y=n.onMove,v=n.onMoveStart,g=n.onMoveEnd,b=n.onElementsRemove,w=n.onConnect,_=n.onConnectStart,S=n.onConnectStop,E=n.onConnectEnd,x=n.onNodeMouseEnter,O=n.onNodeMouseMove,P=n.onNodeMouseLeave,M=n.onNodeContextMenu,C=n.onNodeDragStart,N=n.onNodeDrag,k=n.onNodeDragStop,D=n.onSelectionChange,T=n.onSelectionDragStart,j=n.onSelectionDrag,A=n.onSelectionDragStop,I=n.onSelectionContextMenu,R=n.connectionMode,z=void 0===R?e.ConnectionMode.Strict:R,B=n.connectionLineType,H=void 0===B?e.ConnectionLineType.Bezier:B,L=n.connectionLineStyle,Y=n.connectionLineComponent,V=n.deleteKeyCode,X=void 0===V?"Backspace":V,$=n.selectionKeyCode,F=void 0===$?"Shift":$,U=n.multiSelectionKeyCode,Z=void 0===U?"Meta":U,K=n.zoomActivationKeyCode,G=void 0===K?"Meta":K,W=n.snapToGrid,q=void 0!==W&&W,Q=n.snapGrid,J=void 0===Q?[15,15]:Q,ee=n.onlyRenderVisibleElements,te=void 0===ee||ee,ne=n.selectNodesOnDrag,re=void 0===ne||ne,oe=n.nodesDraggable,ie=n.nodesConnectable,ae=n.elementsSelectable,ue=n.minZoom,ce=n.maxZoom,le=n.defaultZoom,se=void 0===le?1:le,fe=n.defaultPosition,de=void 0===fe?[0,0]:fe,pe=n.translateExtent,he=n.nodeExtent,me=n.arrowHeadColor,ye=void 0===me?"#b1b1b7":me,ve=n.markerEndId,ge=n.zoomOnScroll,be=void 0===ge||ge,we=n.zoomOnPinch,_e=void 0===we||we,Se=n.panOnScroll,Ee=void 0!==Se&&Se,xe=n.panOnScrollSpeed,Oe=void 0===xe?.5:xe,Pe=n.panOnScrollMode,Me=void 0===Pe?e.PanOnScrollMode.Free:Pe,Ce=n.zoomOnDoubleClick,Ne=void 0===Ce||Ce,ke=n.paneMoveable,De=void 0===ke||ke,Te=n.onPaneClick,je=n.onPaneScroll,Ae=n.onPaneContextMenu,Ie=n.children,Re=n.onEdgeUpdate,ze=l(n,["elements","className","nodeTypes","edgeTypes","onElementClick","onLoad","onMove","onMoveStart","onMoveEnd","onElementsRemove","onConnect","onConnectStart","onConnectStop","onConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDragStart","onNodeDrag","onNodeDragStop","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","nodeExtent","arrowHeadColor","markerEndId","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","paneMoveable","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate"]),Be=t.useMemo((function(){return function(e){var t={input:dc(e.input||lc),default:dc(e.default||uc),output:dc(e.output||fc)},n=Object.keys(e).filter((function(e){return!["input","default","output"].includes(e)})).reduce((function(t,n){return t[n]=dc(e[n]||uc),t}),{});return c(c({},t),n)}(s)}),[]),He=t.useMemo((function(){return function(e){var t={default:Vu(e.default||Ou),straight:Vu(e.bezier||Bu),step:Vu(e.step||zu),smoothstep:Vu(e.step||ju)},n=Object.keys(e).filter((function(e){return!["default","bezier"].includes(e)})).reduce((function(t,n){return t[n]=Vu(e[n]||Ou),t}),{});return c(c({},t),n)}(p)}),[]),Le=d(["react-flow",a]);return i.default.createElement("div",c({},ze,{className:Le}),i.default.createElement(_c,null,i.default.createElement(Ju,{onLoad:m,onMove:y,onMoveStart:v,onMoveEnd:g,onElementClick:h,onNodeMouseEnter:x,onNodeMouseMove:O,onNodeMouseLeave:P,onNodeContextMenu:M,onNodeDragStart:C,onNodeDrag:N,onNodeDragStop:k,nodeTypes:Be,edgeTypes:He,connectionMode:z,connectionLineType:H,connectionLineStyle:L,connectionLineComponent:Y,selectionKeyCode:F,onElementsRemove:b,deleteKeyCode:X,multiSelectionKeyCode:Z,zoomActivationKeyCode:G,onConnect:w,onConnectStart:_,onConnectStop:S,onConnectEnd:E,snapToGrid:q,snapGrid:J,onlyRenderVisibleElements:te,nodesDraggable:oe,nodesConnectable:ie,elementsSelectable:ae,selectNodesOnDrag:re,minZoom:ue,maxZoom:ce,defaultZoom:se,defaultPosition:de,translateExtent:pe,nodeExtent:he,arrowHeadColor:ye,markerEndId:ve,zoomOnScroll:be,zoomOnPinch:_e,zoomOnDoubleClick:Ne,panOnScroll:Ee,panOnScrollSpeed:Oe,panOnScrollMode:Me,paneMoveable:De,onPaneClick:Te,onPaneScroll:je,onPaneContextMenu:Ae,onSelectionDragStart:T,onSelectionDrag:j,onSelectionDragStop:A,onSelectionContextMenu:I,onEdgeUpdate:Re}),i.default.createElement(ec,{elements:o}),D&&i.default.createElement(mc,{onSelectionChange:D}),Ie))};xc.displayName="ReactFlow";var Oc=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.style,u=e.color,c=e.strokeColor,l=e.strokeWidth,s=e.className,f=e.borderRadius,p=a||{},h=p.background,m=p.backgroundColor,y=u||h||m;return i.default.createElement("rect",{className:d(["react-flow__minimap-node",s]),x:t,y:n,rx:f,ry:f,width:r,height:o,fill:y,stroke:c,strokeWidth:l})};Oc.displayName="MiniMapNode";var Pc=t.memo(Oc),Mc=function(e){var t,n=e.style,r=e.className,o=e.nodeStrokeColor,a=void 0===o?"#555":o,u=e.nodeColor,c=void 0===u?"#fff":u,l=e.nodeClassName,s=void 0===l?"":l,f=e.nodeBorderRadius,p=void 0===f?5:f,h=e.nodeStrokeWidth,m=void 0===h?2:h,y=e.maskColor,v=void 0===y?"rgb(240, 242, 243, 0.7)":y,g=dt((function(e){return e.width})),b=dt((function(e){return e.height})),w=dt((function(e){return e.transform})),_=w[0],S=w[1],E=w[2],x=dt((function(e){return e.nodes})),O=d(["react-flow__minimap",r]),P=(null==n?void 0:n.width)||200,M=(null==n?void 0:n.height)||150,C=c instanceof Function?c:function(){return c},N=a instanceof Function?a:function(){return a},k=s instanceof Function?s:function(){return s},D=x&&x.length,T=Pt(x),j={x:-_/E,y:-S/E,width:g/E,height:b/E},A=D?(t=j,Ot(Et(xt(T),xt(t)))):j,I=A.width/P,R=A.height/M,z=Math.max(I,R),B=z*P,H=z*M,L=5*z,Y=A.x-(B-A.width)/2-L,V=A.y-(H-A.height)/2-L,X=B+2*L,$=H+2*L;return i.default.createElement("svg",{width:P,height:M,viewBox:Y+" "+V+" "+X+" "+$,style:n,className:O},x.filter((function(e){return!e.isHidden})).map((function(e){return i.default.createElement(Pc,{key:e.id,x:e.__rf.position.x,y:e.__rf.position.y,width:e.__rf.width,height:e.__rf.height,style:e.style,className:k(e),color:C(e),borderRadius:p,strokeColor:N(e),strokeWidth:m})})),i.default.createElement("path",{className:"react-flow__minimap-mask",d:"M"+(Y-L)+","+(V-L)+"h"+(X+2*L)+"v"+($+2*L)+"h"+(-X-2*L)+"z\n        M"+j.x+","+j.y+"h"+j.width+"v"+j.height+"h"+-j.width+"z",fill:v,fillRule:"evenodd"}))};Mc.displayName="MiniMap";var Cc=t.memo(Mc);function Nc(){return(Nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var kc=t.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"});function Dc(e){return t.createElement("svg",Nc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),kc)}function Tc(){return(Tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var jc=t.createElement("path",{d:"M0 0h32v4.2H0z"});function Ac(e){return t.createElement("svg",Tc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},e),jc)}function Ic(){return(Ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Rc=t.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 01-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"});function zc(e){return t.createElement("svg",Ic({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},e),Rc)}function Bc(){return(Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Hc=t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"});function Lc(e){return t.createElement("svg",Bc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e),Hc)}function Yc(){return(Yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Vc=t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"});function Xc(e){return t.createElement("svg",Yc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e),Vc)}var $c=function(e){var n=e.style,r=e.showZoom,o=void 0===r||r,a=e.showFitView,u=void 0===a||a,c=e.showInteractive,l=void 0===c||c,s=e.fitViewParams,f=e.onZoomIn,p=e.onZoomOut,h=e.onFitView,m=e.onInteractiveChange,y=e.className,v=st((function(e){return e.setInteractive})),g=qu(),b=g.zoomIn,w=g.zoomOut,_=g.fitView,S=dt((function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable})),E=d(["react-flow__controls",y]),x=t.useCallback((function(){null==b||b(),null==f||f()}),[b,f]),O=t.useCallback((function(){null==w||w(),null==p||p()}),[w,p]),P=t.useCallback((function(){null==_||_(s),null==h||h()}),[_,s,h]),M=t.useCallback((function(){null==v||v(!S),null==m||m(!S)}),[S,v,m]);return i.default.createElement("div",{className:E,style:n},o&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"react-flow__controls-button react-flow__controls-zoomin",onClick:x},i.default.createElement(Dc,null)),i.default.createElement("div",{className:"react-flow__controls-button react-flow__controls-zoomout",onClick:O},i.default.createElement(Ac,null))),u&&i.default.createElement("div",{className:"react-flow__controls-button react-flow__controls-fitview",onClick:P},i.default.createElement(zc,null)),l&&i.default.createElement("div",{className:"react-flow__controls-button react-flow__controls-interactive",onClick:M},S?i.default.createElement(Xc,null):i.default.createElement(Lc,null)))};$c.displayName="Controls";var Fc,Uc=t.memo($c),Zc=((Fc={})[e.BackgroundVariant.Dots]="#81818a",Fc[e.BackgroundVariant.Lines]="#eee",Fc),Kc=function(t){var n=t.variant,r=void 0===n?e.BackgroundVariant.Dots:n,o=t.gap,a=void 0===o?15:o,u=t.size,l=void 0===u?.5:u,s=t.color,f=t.style,p=t.className,h=dt((function(e){return e.transform})),m=h[0],y=h[1],v=h[2],g=d(["react-flow__background",p]),b=a*v,w=m%b,_=y%b,S=r===e.BackgroundVariant.Lines,E=s||Zc[r],x=S?function(e,t,n){return i.default.createElement("path",{stroke:n,strokeWidth:t,d:"M"+e/2+" 0 V"+e+" M0 "+e/2+" H"+e})}(b,l,E):function(e,t){return i.default.createElement("circle",{cx:e/2,cy:e/2,r:e,fill:t})}(l,E);return i.default.createElement("svg",{className:g,style:c(c({},f),{width:"100%",height:"100%"})},i.default.createElement("pattern",{id:"pattern",x:w,y:_,width:b,height:b,patternUnits:"userSpaceOnUse"},x),i.default.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#pattern)"}))};Kc.displayName="Background";var Gc=t.memo(Kc),Wc=function(e){var n=e.children,r=t.useMemo((function(){return ut(bc)}),[]);return i.default.createElement(ct,{store:r},n)};Wc.displayName="ReactFlowProvider",e.Background=Gc,e.Controls=Uc,e.EdgeText=_u,e.Handle=ic,e.MiniMap=Cc,e.ReactFlowProvider=Wc,e.addEdge=function(e,t){return e.source&&e.target?function(e,t){return t.some((function(t){return bt(t)&&t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)}))}(n=bt(e)?c({},e):c(c({},e),{id:_t(e)}),t)?t:t.concat(n):(console.warn("Can't create edge. An edge needs a source and a target."),t);var n},e.default=xc,e.getBezierPath=xu,e.getConnectedEdges=Ct,e.getEdgeCenter=Eu,e.getIncomers=function(e,t){if(!wt(e))return[];var n=t.filter((function(t){return bt(t)&&t.target===e.id})).map((function(e){return e.source}));return t.filter((function(e){return n.includes(e.id)}))},e.getMarkerEnd=Su,e.getOutgoers=function(e,t){if(!wt(e))return[];var n=t.filter((function(t){return bt(t)&&t.source===e.id})).map((function(e){return e.target}));return t.filter((function(e){return n.includes(e.id)}))},e.getSmoothStepPath=Tu,e.isEdge=bt,e.isNode=wt,e.removeElements=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){var t=e;return!(n.includes(e.id)||n.includes(t.target)||n.includes(t.source))}))},e.updateEdge=function(e,t,n){if(!t.source||!t.target)return console.warn("Can't create new edge. An edge needs a source and a target."),n;if(!n.find((function(t){return bt(t)&&t.id===e.id})))return console.warn("The old edge with id="+e.id+" does not exist."),n;var r=c(c({},e),{id:_t(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle});return n.filter((function(t){return t.id!==e.id})).concat(r)},e.useStore=pt,e.useStoreActions=st,e.useStoreDispatch=ft,e.useStoreState=dt,e.useZoomPanHelper=qu,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ReactFlow.min.js.map
